





<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
  <link rel="dns-prefetch" href="https://github.githubassets.com">
  <link rel="dns-prefetch" href="https://avatars0.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars1.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars2.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars3.githubusercontent.com">
  <link rel="dns-prefetch" href="https://github-cloud.s3.amazonaws.com">
  <link rel="dns-prefetch" href="https://user-images.githubusercontent.com/">



  <link crossorigin="anonymous" media="all" integrity="sha512-kBwTI/PLZvQ8eHdCgA2vpn0uJe4kEM/Ft7Zz5SAkc9BAifCxBxQS4VTaEIDJpVrbrlAhCeRJvf7DQWaA4dEUUQ==" rel="stylesheet" href="https://github.githubassets.com/assets/frameworks-da88be2d386821a8fa8de15789a23d23.css" />
  
    <link crossorigin="anonymous" media="all" integrity="sha512-F7eKFKevFGJ5H5T46w2hFnIvtvvHz/yE82mzVMC25i/rhWGhlrvrm/ffFxbKRiX5bXM55Hj0WKFRPoILzuYOzw==" rel="stylesheet" href="https://github.githubassets.com/assets/github-ef4ea12cab45ecffb11b24ec2341560a.css" />
    
    
    
    

  <meta name="viewport" content="width=device-width">
  
  <title>notes/Lesson2.md at master ¬∑ hiromis/notes</title>
    <meta name="description" content="Contribute to hiromis/notes development by creating an account on GitHub.">
    <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub">
  <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
  <meta property="fb:app_id" content="1401488693436528">

    <meta name="twitter:image:src" content="https://avatars3.githubusercontent.com/u/5401333?s=400&amp;v=4" /><meta name="twitter:site" content="@github" /><meta name="twitter:card" content="summary" /><meta name="twitter:title" content="hiromis/notes" /><meta name="twitter:description" content="Contribute to hiromis/notes development by creating an account on GitHub." />
    <meta property="og:image" content="https://avatars3.githubusercontent.com/u/5401333?s=400&amp;v=4" /><meta property="og:site_name" content="GitHub" /><meta property="og:type" content="object" /><meta property="og:title" content="hiromis/notes" /><meta property="og:url" content="https://github.com/hiromis/notes" /><meta property="og:description" content="Contribute to hiromis/notes development by creating an account on GitHub." />

  <link rel="assets" href="https://github.githubassets.com/">
  <link rel="web-socket" href="wss://live.github.com/_sockets/VjI6NDA3NTk2OTQyOmQ5Y2NlMzJlZjAzZDMxYjY2YTVhYmNlZTJhMDliMTFiMDczZDM1MDUwOGIyZjFiYzI5N2Q2ZmMzOGYxZjczNWI=--dfd0c47f3a44262503bff1ccb330a8d5ade75b6e">
  <meta name="pjax-timeout" content="1000">
  <link rel="sudo-modal" href="/sessions/sudo_modal">
  <meta name="request-id" content="9417:C386:5A1E50:8BA2FC:5D4A9126" data-pjax-transient>


  

  <meta name="selected-link" value="repo_source" data-pjax-transient>

      <meta name="google-site-verification" content="KT5gs8h0wvaagLKAVWq8bbeNwnZZK1r1XQysX3xurLU">
    <meta name="google-site-verification" content="ZzhVyEFwb7w3e0-uOTltm8Jsck2F5StVihD0exw2fsA">
    <meta name="google-site-verification" content="GXs5KoUUkNCoaAZn7wPN-t01Pywp9M3sEjnt_3_ZWPc">

  <meta name="octolytics-host" content="collector.githubapp.com" /><meta name="octolytics-app-id" content="github" /><meta name="octolytics-event-url" content="https://collector.githubapp.com/github-external/browser_event" /><meta name="octolytics-dimension-request_id" content="9417:C386:5A1E50:8BA2FC:5D4A9126" /><meta name="octolytics-dimension-region_edge" content="ams" /><meta name="octolytics-dimension-region_render" content="iad" /><meta name="octolytics-actor-id" content="11873020" /><meta name="octolytics-actor-login" content="alarivarmann" /><meta name="octolytics-actor-hash" content="602512787125d2c698b570cc835a0f511aa138d9c0de5739649ae2efcc83400b" />
<meta name="analytics-location" content="/&lt;user-name&gt;/&lt;repo-name&gt;/blob/show" data-pjax-transient="true" />



    <meta name="google-analytics" content="UA-3769691-2">

  <meta class="js-ga-set" name="userId" content="35c9afe11c9fa2bab140d4b3103769b1">

<meta class="js-ga-set" name="dimension1" content="Logged In">



  

      <meta name="hostname" content="github.com">
    <meta name="user-login" content="alarivarmann">

      <meta name="expected-hostname" content="github.com">
    <meta name="js-proxy-site-detection-payload" content="OTkyZGI0YzAyYzY2ZDZiMmViNmFiMzBhM2E3YjQ5MWRiMjU1OTkyNzUxMjM4N2YwYmY2ZmMxOGJlNjkyMmI1MHx7InJlbW90ZV9hZGRyZXNzIjoiMTkzLjk0LjE4NS44OSIsInJlcXVlc3RfaWQiOiI5NDE3OkMzODY6NUExRTUwOjhCQTJGQzo1RDRBOTEyNiIsInRpbWVzdGFtcCI6MTU2NTE2NzkxNSwiaG9zdCI6ImdpdGh1Yi5jb20ifQ==">

    <meta name="enabled-features" content="MARKETPLACE_FEATURED_BLOG_POSTS,MARKETPLACE_INVOICED_BILLING,MARKETPLACE_SOCIAL_PROOF_CUSTOMERS,MARKETPLACE_TRENDING_SOCIAL_PROOF,MARKETPLACE_RECOMMENDATIONS,MARKETPLACE_PENDING_INSTALLATIONS,NOTIFY_ON_BLOCK,RELATED_ISSUES">

  <meta name="html-safe-nonce" content="4fbc459d0480adebb578cf0bc1aaab5095264a31">

  <meta http-equiv="x-pjax-version" content="8cc0398d552c367863d4cb77f7fff498">
  

      <link href="https://github.com/hiromis/notes/commits/master.atom" rel="alternate" title="Recent Commits to notes:master" type="application/atom+xml">

  <meta name="go-import" content="github.com/hiromis/notes git https://github.com/hiromis/notes.git">

  <meta name="octolytics-dimension-user_id" content="5401333" /><meta name="octolytics-dimension-user_login" content="hiromis" /><meta name="octolytics-dimension-repository_id" content="154415070" /><meta name="octolytics-dimension-repository_nwo" content="hiromis/notes" /><meta name="octolytics-dimension-repository_public" content="true" /><meta name="octolytics-dimension-repository_is_fork" content="false" /><meta name="octolytics-dimension-repository_network_root_id" content="154415070" /><meta name="octolytics-dimension-repository_network_root_nwo" content="hiromis/notes" /><meta name="octolytics-dimension-repository_explore_github_marketplace_ci_cta_shown" content="false" />


    <link rel="canonical" href="https://github.com/hiromis/notes/blob/master/Lesson2.md" data-pjax-transient>


  <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">

  <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">

  <link rel="mask-icon" href="https://github.githubassets.com/pinned-octocat.svg" color="#000000">
  <link rel="icon" type="image/x-icon" class="js-site-favicon" href="https://github.githubassets.com/favicon.ico">

<meta name="theme-color" content="#1e2327">


  <meta name="u2f-enabled" content="true">



  <link rel="manifest" href="/manifest.json" crossOrigin="use-credentials">

  </head>

  <body class="logged-in env-production page-responsive page-blob">
    

  <div class="position-relative js-header-wrapper ">
    <a href="#start-of-content" tabindex="1" class="p-3 bg-blue text-white show-on-focus js-skip-to-content">Skip to content</a>
    <div id="js-pjax-loader-bar" class="pjax-loader-bar"><div class="progress"></div></div>

    
    
    


          <header class="Header js-details-container Details flex-wrap flex-lg-nowrap p-responsive" role="banner">

    <div class="Header-item d-none d-lg-flex">
      <a class="Header-link" href="https://github.com/" data-hotkey="g d" aria-label="Homepage" data-ga-click="Header, go to dashboard, icon:logo">
  <svg class="octicon octicon-mark-github v-align-middle" height="32" viewBox="0 0 16 16" version="1.1" width="32" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg>
</a>

    </div>

    <div class="Header-item d-lg-none">
      <button class="Header-link btn-link js-details-target" type="button" aria-label="Toggle navigation" aria-expanded="false">
        <svg height="24" class="octicon octicon-three-bars" viewBox="0 0 12 16" version="1.1" width="18" aria-hidden="true"><path fill-rule="evenodd" d="M11.41 9H.59C0 9 0 8.59 0 8c0-.59 0-1 .59-1H11.4c.59 0 .59.41.59 1 0 .59 0 1-.59 1h.01zm0-4H.59C0 5 0 4.59 0 4c0-.59 0-1 .59-1H11.4c.59 0 .59.41.59 1 0 .59 0 1-.59 1h.01zM.59 11H11.4c.59 0 .59.41.59 1 0 .59 0 1-.59 1H.59C0 13 0 12.59 0 12c0-.59 0-1 .59-1z"/></svg>
      </button>
    </div>

    <div class="Header-item Header-item--full flex-column flex-lg-row width-full flex-order-2 flex-lg-order-none mr-0 mr-lg-3 mt-3 mt-lg-0 Details-content--hidden">
        <div class="header-search flex-self-stretch flex-lg-self-auto mr-0 mr-lg-3 mb-3 mb-lg-0 scoped-search site-scoped-search js-site-search position-relative js-jump-to"
  role="combobox"
  aria-owns="jump-to-results"
  aria-label="Search or jump to"
  aria-haspopup="listbox"
  aria-expanded="false"
>
  <div class="position-relative">
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-site-search-form" role="search" aria-label="Site" data-scope-type="Repository" data-scope-id="154415070" data-scoped-search-url="/hiromis/notes/search" data-unscoped-search-url="/search" action="/hiromis/notes/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
      <label class="form-control input-sm header-search-wrapper p-0 header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center js-chromeless-input-container">
        <input type="text"
          class="form-control input-sm header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable"
          data-hotkey="s,/"
          name="q"
          value=""
          placeholder="Search or jump to‚Ä¶"
          data-unscoped-placeholder="Search or jump to‚Ä¶"
          data-scoped-placeholder="Search or jump to‚Ä¶"
          autocapitalize="off"
          aria-autocomplete="list"
          aria-controls="jump-to-results"
          aria-label="Search or jump to‚Ä¶"
          data-jump-to-suggestions-path="/_graphql/GetSuggestedNavigationDestinations#csrf-token=UqfHByP5PMk0GGlkXXirbcI9uLajA1cYSMlGd5/Dbuw+6j74+2Y/KKOpXLYLna8HiNEVDqPk9f8vYAkkWhekRw=="
          spellcheck="false"
          autocomplete="off"
          >
          <input type="hidden" class="js-site-search-type-field" name="type" >
            <img src="https://github.githubassets.com/images/search-key-slash.svg" alt="" class="mr-2 header-search-key-slash">

            <div class="Box position-absolute overflow-hidden d-none jump-to-suggestions js-jump-to-suggestions-container">
              
<ul class="d-none js-jump-to-suggestions-template-container">
  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-suggestion" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg height="16" width="16" class="octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none" title="Repository" aria-label="Repository" viewBox="0 0 12 16" version="1.1" role="img"><path fill-rule="evenodd" d="M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"/></svg>
      <svg height="16" width="16" class="octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none" title="Project" aria-label="Project" viewBox="0 0 15 16" version="1.1" role="img"><path fill-rule="evenodd" d="M10 12h3V2h-3v10zm-4-2h3V2H6v8zm-4 4h3V2H2v12zm-1 1h13V1H1v14zM14 0H1a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1z"/></svg>
      <svg height="16" width="16" class="octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none" title="Search" aria-label="Search" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M15.7 13.3l-3.81-3.83A5.93 5.93 0 0 0 13 6c0-3.31-2.69-6-6-6S1 2.69 1 6s2.69 6 6 6c1.3 0 2.48-.41 3.47-1.11l3.83 3.81c.19.2.45.3.7.3.25 0 .52-.09.7-.3a.996.996 0 0 0 0-1.41v.01zM7 10.7c-2.59 0-4.7-2.11-4.7-4.7 0-2.59 2.11-4.7 4.7-4.7 2.59 0 4.7 2.11 4.7 4.7 0 2.59-2.11 4.7-4.7 4.7z"/></svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">‚Üµ</span>
    </div>

    <div aria-hidden="true" class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">‚Üµ</span>
    </div>
  </a>
</li>

</ul>

<ul class="d-none js-jump-to-no-results-template-container">
  <li class="d-flex flex-justify-center flex-items-center f5 d-none js-jump-to-suggestion p-2">
    <span class="text-gray">No suggested jump to results</span>
  </li>
</ul>

<ul id="jump-to-results" role="listbox" class="p-0 m-0 js-navigation-container jump-to-suggestions-results-container js-jump-to-suggestions-results-container">
  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-scoped-search d-none" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg height="16" width="16" class="octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none" title="Repository" aria-label="Repository" viewBox="0 0 12 16" version="1.1" role="img"><path fill-rule="evenodd" d="M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"/></svg>
      <svg height="16" width="16" class="octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none" title="Project" aria-label="Project" viewBox="0 0 15 16" version="1.1" role="img"><path fill-rule="evenodd" d="M10 12h3V2h-3v10zm-4-2h3V2H6v8zm-4 4h3V2H2v12zm-1 1h13V1H1v14zM14 0H1a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1z"/></svg>
      <svg height="16" width="16" class="octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none" title="Search" aria-label="Search" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M15.7 13.3l-3.81-3.83A5.93 5.93 0 0 0 13 6c0-3.31-2.69-6-6-6S1 2.69 1 6s2.69 6 6 6c1.3 0 2.48-.41 3.47-1.11l3.83 3.81c.19.2.45.3.7.3.25 0 .52-.09.7-.3a.996.996 0 0 0 0-1.41v.01zM7 10.7c-2.59 0-4.7-2.11-4.7-4.7 0-2.59 2.11-4.7 4.7-4.7 2.59 0 4.7 2.11 4.7 4.7 0 2.59-2.11 4.7-4.7 4.7z"/></svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">‚Üµ</span>
    </div>

    <div aria-hidden="true" class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">‚Üµ</span>
    </div>
  </a>
</li>

  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-global-search d-none" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg height="16" width="16" class="octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none" title="Repository" aria-label="Repository" viewBox="0 0 12 16" version="1.1" role="img"><path fill-rule="evenodd" d="M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"/></svg>
      <svg height="16" width="16" class="octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none" title="Project" aria-label="Project" viewBox="0 0 15 16" version="1.1" role="img"><path fill-rule="evenodd" d="M10 12h3V2h-3v10zm-4-2h3V2H6v8zm-4 4h3V2H2v12zm-1 1h13V1H1v14zM14 0H1a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1z"/></svg>
      <svg height="16" width="16" class="octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none" title="Search" aria-label="Search" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M15.7 13.3l-3.81-3.83A5.93 5.93 0 0 0 13 6c0-3.31-2.69-6-6-6S1 2.69 1 6s2.69 6 6 6c1.3 0 2.48-.41 3.47-1.11l3.83 3.81c.19.2.45.3.7.3.25 0 .52-.09.7-.3a.996.996 0 0 0 0-1.41v.01zM7 10.7c-2.59 0-4.7-2.11-4.7-4.7 0-2.59 2.11-4.7 4.7-4.7 2.59 0 4.7 2.11 4.7 4.7 0 2.59-2.11 4.7-4.7 4.7z"/></svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">‚Üµ</span>
    </div>

    <div aria-hidden="true" class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">‚Üµ</span>
    </div>
  </a>
</li>


    <li class="d-flex flex-justify-center flex-items-center p-0 f5 js-jump-to-suggestion">
      <img src="https://github.githubassets.com/images/spinners/octocat-spinner-128.gif" alt="Octocat Spinner Icon" class="m-2" width="28">
    </li>
</ul>

            </div>
      </label>
</form>  </div>
</div>


      <nav class="d-flex flex-column flex-lg-row flex-self-stretch flex-lg-self-auto" aria-label="Global">
    <a class="Header-link d-block d-lg-none py-2 py-lg-0 border-top border-lg-top-0 border-white-fade-15" data-ga-click="Header, click, Nav menu - item:dashboard:user" aria-label="Dashboard" href="/dashboard">
      Dashboard
</a>
  <a class="js-selected-navigation-item Header-link  mr-0 mr-lg-3 py-2 py-lg-0 border-top border-lg-top-0 border-white-fade-15" data-hotkey="g p" data-ga-click="Header, click, Nav menu - item:pulls context:user" aria-label="Pull requests you created" data-selected-links="/pulls /pulls/assigned /pulls/mentioned /pulls" href="/pulls">
    Pull requests
</a>
  <a class="js-selected-navigation-item Header-link  mr-0 mr-lg-3 py-2 py-lg-0 border-top border-lg-top-0 border-white-fade-15" data-hotkey="g i" data-ga-click="Header, click, Nav menu - item:issues context:user" aria-label="Issues you created" data-selected-links="/issues /issues/assigned /issues/mentioned /issues" href="/issues">
    Issues
</a>
    <div class="mr-0 mr-lg-3 py-2 py-lg-0 border-top border-lg-top-0 border-white-fade-15">
      <a class="js-selected-navigation-item Header-link" data-ga-click="Header, click, Nav menu - item:marketplace context:user" data-octo-click="marketplace_click" data-octo-dimensions="location:nav_bar" data-selected-links=" /marketplace" href="/marketplace">
        Marketplace
</a>      
    </div>

  <a class="js-selected-navigation-item Header-link  mr-0 mr-lg-3 py-2 py-lg-0 border-top border-lg-top-0 border-white-fade-15" data-ga-click="Header, click, Nav menu - item:explore" data-selected-links="/explore /trending /trending/developers /integrations /integrations/feature/code /integrations/feature/collaborate /integrations/feature/ship showcases showcases_search showcases_landing /explore" href="/explore">
    Explore
</a>


    <a class="Header-link d-block d-lg-none mr-0 mr-lg-3 py-2 py-lg-0 border-top border-lg-top-0 border-white-fade-15" href="https://github.com/alarivarmann">
      <img class="avatar" height="20" width="20" alt="@alarivarmann" src="https://avatars0.githubusercontent.com/u/11873020?s=60&amp;v=4" />
      alarivarmann
</a>
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form action="/logout" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="b/ZM+DQ1aK/OjT2yJXlXnvTzNHNoCMPfOKKxFXsSXYXjEtnSZChmveSin/96OUwWQZEUT9Fc5lWDFTLH2Uz5aA==" />
      <button type="submit" class="Header-link mr-0 mr-lg-3 py-2 py-lg-0 border-top border-lg-top-0 border-white-fade-15 d-lg-none btn-link d-block width-full text-left" data-ga-click="Header, sign out, icon:logout" style="padding-left: 2px;">
        <svg class="octicon octicon-sign-out v-align-middle" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 9V7H8V5h4V3l4 3-4 3zm-2 3H6V3L2 1h8v3h1V1c0-.55-.45-1-1-1H1C.45 0 0 .45 0 1v11.38c0 .39.22.73.55.91L6 16.01V13h4c.55 0 1-.45 1-1V8h-1v4z"/></svg>
        Sign out
      </button>
</form></nav>

    </div>

    <div class="Header-item Header-item--full flex-justify-center d-lg-none position-relative">
      <div class="css-truncate css-truncate-target width-fit position-absolute left-0 right-0 text-center">
              <svg class="octicon octicon-repo" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"/></svg>
    <a class="Header-link" href="/hiromis">hiromis</a>
    /
    <a class="Header-link" href="/hiromis/notes">notes</a>

</div>
    </div>

    <div class="Header-item position-relative d-none d-lg-flex">
      

    </div>

    <div class="Header-item mr-0 mr-lg-3 flex-order-1 flex-lg-order-none">
      

    <a aria-label="You have unread notifications" class="Header-link notification-indicator position-relative tooltipped tooltipped-s js-socket-channel js-notification-indicator" data-hotkey="g n" data-ga-click="Header, go to notifications, icon:unread" data-channel="notification-changed:11873020" href="/notifications">
        <span class="mail-status unread"></span>
        <svg class="octicon octicon-bell" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M14 12v1H0v-1l.73-.58c.77-.77.81-2.55 1.19-4.42C2.69 3.23 6 2 6 2c0-.55.45-1 1-1s1 .45 1 1c0 0 3.39 1.23 4.16 5 .38 1.88.42 3.66 1.19 4.42l.66.58H14zm-7 4c1.11 0 2-.89 2-2H5c0 1.11.89 2 2 2z"/></svg>
</a>
    </div>


    <div class="Header-item position-relative d-none d-lg-flex">
      <details class="details-overlay details-reset">
  <summary class="Header-link"
      aria-label="Create new‚Ä¶"
      data-ga-click="Header, create new, icon:add">
    <svg class="octicon octicon-plus" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 9H7v5H5V9H0V7h5V2h2v5h5v2z"/></svg> <span class="dropdown-caret"></span>
  </summary>
  <details-menu class="dropdown-menu dropdown-menu-sw">
    
<a role="menuitem" class="dropdown-item" href="/new" data-ga-click="Header, create new repository">
  New repository
</a>

  <a role="menuitem" class="dropdown-item" href="/new/import" data-ga-click="Header, import a repository">
    Import repository
  </a>

<a role="menuitem" class="dropdown-item" href="https://gist.github.com/" data-ga-click="Header, create new gist">
  New gist
</a>

  <a role="menuitem" class="dropdown-item" href="/organizations/new" data-ga-click="Header, create new organization">
    New organization
  </a>


  <div role="none" class="dropdown-divider"></div>
  <div class="dropdown-header">
    <span title="hiromis/notes">This repository</span>
  </div>
    <a role="menuitem" class="dropdown-item" href="/hiromis/notes/issues/new" data-ga-click="Header, create new issue" data-skip-pjax>
      New issue
    </a>


  </details-menu>
</details>

    </div>

    <div class="Header-item position-relative mr-0 d-none d-lg-flex">
      
<details class="details-overlay details-reset">
  <summary class="Header-link"
    aria-label="View profile and more"
    data-ga-click="Header, show menu, icon:avatar">
    <img alt="@alarivarmann" class="avatar" src="https://avatars3.githubusercontent.com/u/11873020?s=40&amp;v=4" height="20" width="20">
    <span class="dropdown-caret"></span>
  </summary>
  <details-menu class="dropdown-menu dropdown-menu-sw mt-2" style="width: 180px">
    <div class="header-nav-current-user css-truncate"><a role="menuitem" class="no-underline user-profile-link px-3 pt-2 pb-2 mb-n2 mt-n1 d-block" href="/alarivarmann" data-ga-click="Header, go to profile, text:Signed in as">Signed in as <strong class="css-truncate-target">alarivarmann</strong></a></div>
    <div role="none" class="dropdown-divider"></div>

      <div class="pl-3 pr-3 f6 user-status-container js-user-status-context pb-1" data-url="/users/status?compact=1&amp;link_mentions=0&amp;truncate=1">
        
<div class="js-user-status-container
    user-status-compact rounded-1 px-2 py-1 mt-2
    border
  " data-team-hovercards-enabled>
  <details class="js-user-status-details details-reset details-overlay details-overlay-dark">
    <summary class="btn-link btn-block link-gray no-underline js-toggle-user-status-edit toggle-user-status-edit " aria-haspopup="dialog" role="menuitem" data-hydro-click="{&quot;event_type&quot;:&quot;user_profile.click&quot;,&quot;payload&quot;:{&quot;profile_user_id&quot;:5401333,&quot;target&quot;:&quot;EDIT_USER_STATUS&quot;,&quot;user_id&quot;:11873020,&quot;client_id&quot;:&quot;104385062.1558160246&quot;,&quot;originating_request_id&quot;:&quot;9417:C386:5A1E50:8BA2FC:5D4A9126&quot;,&quot;originating_url&quot;:&quot;https://github.com/hiromis/notes/blob/master/Lesson2.md&quot;,&quot;referrer&quot;:&quot;https://course.fast.ai/videos/?lesson=2&quot;}}" data-hydro-click-hmac="ab6a5c25ef03b250d7613756fb9c3e847b2f469feabd276aad9644576e63fa8d">
      <div class="d-flex">
        <div class="f6 lh-condensed user-status-header
          d-inline-block v-align-middle
            user-status-emoji-only-header circle
            pr-2
"
            style="max-width: 29px"
          >
          <div class="user-status-emoji-container flex-shrink-0 mr-1 mt-1 lh-condensed-ultra v-align-bottom" style="">
            <svg class="octicon octicon-smiley" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm4.81 12.81a6.72 6.72 0 0 1-2.17 1.45c-.83.36-1.72.53-2.64.53-.92 0-1.81-.17-2.64-.53-.81-.34-1.55-.83-2.17-1.45a6.773 6.773 0 0 1-1.45-2.17A6.59 6.59 0 0 1 1.21 8c0-.92.17-1.81.53-2.64.34-.81.83-1.55 1.45-2.17.62-.62 1.36-1.11 2.17-1.45A6.59 6.59 0 0 1 8 1.21c.92 0 1.81.17 2.64.53.81.34 1.55.83 2.17 1.45.62.62 1.11 1.36 1.45 2.17.36.83.53 1.72.53 2.64 0 .92-.17 1.81-.53 2.64-.34.81-.83 1.55-1.45 2.17zM4 6.8v-.59c0-.66.53-1.19 1.2-1.19h.59c.66 0 1.19.53 1.19 1.19v.59c0 .67-.53 1.2-1.19 1.2H5.2C4.53 8 4 7.47 4 6.8zm5 0v-.59c0-.66.53-1.19 1.2-1.19h.59c.66 0 1.19.53 1.19 1.19v.59c0 .67-.53 1.2-1.19 1.2h-.59C9.53 8 9 7.47 9 6.8zm4 3.2c-.72 1.88-2.91 3-5 3s-4.28-1.13-5-3c-.14-.39.23-1 .66-1h8.59c.41 0 .89.61.75 1z"/></svg>
          </div>
        </div>
        <div class="
          d-inline-block v-align-middle
          
          
           css-truncate css-truncate-target 
           user-status-message-wrapper f6"
           style="line-height: 20px;" >
          <div class="d-inline-block text-gray-dark v-align-text-top text-left">
              <span class="text-gray ml-2">Set status</span>
          </div>
        </div>
      </div>
</summary>    <details-dialog class="details-dialog rounded-1 anim-fade-in fast Box Box--overlay" role="dialog" tabindex="-1">
      <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="position-relative flex-auto js-user-status-form" action="/users/status?compact=1&amp;link_mentions=0&amp;truncate=1" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="_method" value="put" /><input type="hidden" name="authenticity_token" value="xvPdljCWNCjh9thAkGgyrPhkdtoB4EQMjgULI3YBMl1c8QrbX3ZEoIdjbxWN4+K1jACXrRx/BDAygcCmXPM3hw==" />
        <div class="Box-header bg-gray border-bottom p-3">
          <button class="Box-btn-octicon js-toggle-user-status-edit btn-octicon float-right" type="reset" aria-label="Close dialog" data-close-dialog>
            <svg class="octicon octicon-x" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"/></svg>
          </button>
          <h3 class="Box-title f5 text-bold text-gray-dark">Edit status</h3>
        </div>
        <input type="hidden" name="emoji" class="js-user-status-emoji-field" value="">
        <input type="hidden" name="organization_id" class="js-user-status-org-id-field" value="">
        <div class="px-3 py-2 text-gray-dark">
          <div class="js-characters-remaining-container position-relative mt-2">
            <div class="input-group d-table form-group my-0 js-user-status-form-group">
              <span class="input-group-button d-table-cell v-align-middle" style="width: 1%">
                <button type="button" aria-label="Choose an emoji" class="btn-outline btn js-toggle-user-status-emoji-picker btn-open-emoji-picker p-0">
                  <span class="js-user-status-original-emoji" hidden></span>
                  <span class="js-user-status-custom-emoji"></span>
                  <span class="js-user-status-no-emoji-icon" >
                    <svg class="octicon octicon-smiley" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm4.81 12.81a6.72 6.72 0 0 1-2.17 1.45c-.83.36-1.72.53-2.64.53-.92 0-1.81-.17-2.64-.53-.81-.34-1.55-.83-2.17-1.45a6.773 6.773 0 0 1-1.45-2.17A6.59 6.59 0 0 1 1.21 8c0-.92.17-1.81.53-2.64.34-.81.83-1.55 1.45-2.17.62-.62 1.36-1.11 2.17-1.45A6.59 6.59 0 0 1 8 1.21c.92 0 1.81.17 2.64.53.81.34 1.55.83 2.17 1.45.62.62 1.11 1.36 1.45 2.17.36.83.53 1.72.53 2.64 0 .92-.17 1.81-.53 2.64-.34.81-.83 1.55-1.45 2.17zM4 6.8v-.59c0-.66.53-1.19 1.2-1.19h.59c.66 0 1.19.53 1.19 1.19v.59c0 .67-.53 1.2-1.19 1.2H5.2C4.53 8 4 7.47 4 6.8zm5 0v-.59c0-.66.53-1.19 1.2-1.19h.59c.66 0 1.19.53 1.19 1.19v.59c0 .67-.53 1.2-1.19 1.2h-.59C9.53 8 9 7.47 9 6.8zm4 3.2c-.72 1.88-2.91 3-5 3s-4.28-1.13-5-3c-.14-.39.23-1 .66-1h8.59c.41 0 .89.61.75 1z"/></svg>
                  </span>
                </button>
              </span>
              <text-expander keys=": @" data-mention-url="/autocomplete/user-suggestions" data-emoji-url="/autocomplete/emoji">
                <input
                  type="text"
                  autocomplete="off"
                  data-no-org-url="/autocomplete/user-suggestions"
                  data-org-url="/suggestions?mention_suggester=1"
                  data-maxlength="80"
                  class="d-table-cell width-full form-control js-user-status-message-field js-characters-remaining-field"
                  placeholder="What's happening?"
                  name="message"
                  value=""
                  aria-label="What is your current status?">
              </text-expander>
              <div class="error">Could not update your status, please try again.</div>
            </div>
            <div style="margin-left: 53px" class="my-1 text-small label-characters-remaining js-characters-remaining" data-suffix="remaining" hidden>
              80 remaining
            </div>
          </div>
          <include-fragment class="js-user-status-emoji-picker" data-url="/users/status/emoji"></include-fragment>
          <div class="overflow-auto ml-n3 mr-n3 px-3 border-bottom" style="max-height: 33vh">
            <div class="user-status-suggestions js-user-status-suggestions collapsed overflow-hidden">
              <h4 class="f6 text-normal my-3">Suggestions:</h4>
              <div class="mx-3 mt-2 clearfix">
                  <div class="float-left col-6">
                      <button type="button" value=":palm_tree:" class="d-flex flex-items-baseline flex-items-stretch lh-condensed f6 btn-link link-gray no-underline js-predefined-user-status mb-1">
                        <div class="emoji-status-width mr-2 v-align-middle js-predefined-user-status-emoji">
                          <g-emoji alias="palm_tree" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f334.png">üå¥</g-emoji>
                        </div>
                        <div class="d-flex flex-items-center no-underline js-predefined-user-status-message ws-normal text-left" style="border-left: 1px solid transparent">
                          On vacation
                        </div>
                      </button>
                      <button type="button" value=":face_with_thermometer:" class="d-flex flex-items-baseline flex-items-stretch lh-condensed f6 btn-link link-gray no-underline js-predefined-user-status mb-1">
                        <div class="emoji-status-width mr-2 v-align-middle js-predefined-user-status-emoji">
                          <g-emoji alias="face_with_thermometer" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f912.png">ü§í</g-emoji>
                        </div>
                        <div class="d-flex flex-items-center no-underline js-predefined-user-status-message ws-normal text-left" style="border-left: 1px solid transparent">
                          Out sick
                        </div>
                      </button>
                  </div>
                  <div class="float-left col-6">
                      <button type="button" value=":house:" class="d-flex flex-items-baseline flex-items-stretch lh-condensed f6 btn-link link-gray no-underline js-predefined-user-status mb-1">
                        <div class="emoji-status-width mr-2 v-align-middle js-predefined-user-status-emoji">
                          <g-emoji alias="house" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f3e0.png">üè†</g-emoji>
                        </div>
                        <div class="d-flex flex-items-center no-underline js-predefined-user-status-message ws-normal text-left" style="border-left: 1px solid transparent">
                          Working from home
                        </div>
                      </button>
                      <button type="button" value=":dart:" class="d-flex flex-items-baseline flex-items-stretch lh-condensed f6 btn-link link-gray no-underline js-predefined-user-status mb-1">
                        <div class="emoji-status-width mr-2 v-align-middle js-predefined-user-status-emoji">
                          <g-emoji alias="dart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f3af.png">üéØ</g-emoji>
                        </div>
                        <div class="d-flex flex-items-center no-underline js-predefined-user-status-message ws-normal text-left" style="border-left: 1px solid transparent">
                          Focusing
                        </div>
                      </button>
                  </div>
              </div>
            </div>
            <div class="user-status-limited-availability-container">
              <div class="form-checkbox my-0">
                <input type="checkbox" name="limited_availability" value="1" class="js-user-status-limited-availability-checkbox" data-default-message="I may be slow to respond." aria-describedby="limited-availability-help-text-truncate-true-compact-true" id="limited-availability-truncate-true-compact-true">
                <label class="d-block f5 text-gray-dark mb-1" for="limited-availability-truncate-true-compact-true">
                  Busy
                </label>
                <p class="note" id="limited-availability-help-text-truncate-true-compact-true">
                  When others mention you, assign you, or request your review,
                  GitHub will let them know that you have limited availability.
                </p>
              </div>
            </div>
          </div>
            

<div class="d-inline-block f5 mr-2 pt-3 pb-2" >
  <div class="d-inline-block mr-1">
    Clear status
  </div>

  <details class="js-user-status-expire-drop-down f6 dropdown details-reset details-overlay d-inline-block mr-2">
    <summary class="f5 btn-link link-gray-dark border px-2 py-1 rounded-1" aria-haspopup="true">
      <div class="js-user-status-expiration-interval-selected d-inline-block v-align-baseline">
        Never
      </div>
      <div class="dropdown-caret"></div>
    </summary>

    <ul class="dropdown-menu dropdown-menu-se pl-0 overflow-auto" style="width: 220px; max-height: 15.5em">
      <li>
        <button type="button" class="btn-link dropdown-item js-user-status-expire-button ws-normal" title="Never">
          <span class="d-inline-block text-bold mb-1">Never</span>
          <div class="f6 lh-condensed">Keep this status until you clear your status or edit your status.</div>
        </button>
      </li>
      <li class="dropdown-divider" role="none"></li>
        <li>
          <button type="button" class="btn-link dropdown-item ws-normal js-user-status-expire-button" title="in 30 minutes" value="2019-08-07T12:21:55+03:00">
            in 30 minutes
          </button>
        </li>
        <li>
          <button type="button" class="btn-link dropdown-item ws-normal js-user-status-expire-button" title="in 1 hour" value="2019-08-07T12:51:55+03:00">
            in 1 hour
          </button>
        </li>
        <li>
          <button type="button" class="btn-link dropdown-item ws-normal js-user-status-expire-button" title="in 4 hours" value="2019-08-07T15:51:55+03:00">
            in 4 hours
          </button>
        </li>
        <li>
          <button type="button" class="btn-link dropdown-item ws-normal js-user-status-expire-button" title="today" value="2019-08-07T23:59:59+03:00">
            today
          </button>
        </li>
        <li>
          <button type="button" class="btn-link dropdown-item ws-normal js-user-status-expire-button" title="this week" value="2019-08-11T23:59:59+03:00">
            this week
          </button>
        </li>
    </ul>
  </details>
  <input class="js-user-status-expiration-date-input" type="hidden" name="expires_at" value="">
</div>

          <include-fragment class="js-user-status-org-picker" data-url="/users/status/organizations"></include-fragment>
        </div>
        <div class="d-flex flex-items-center flex-justify-between p-3 border-top">
          <button type="submit" disabled class="width-full btn btn-primary mr-2 js-user-status-submit">
            Set status
          </button>
          <button type="button" disabled class="width-full js-clear-user-status-button btn ml-2 ">
            Clear status
          </button>
        </div>
</form>    </details-dialog>
  </details>
</div>

      </div>
      <div role="none" class="dropdown-divider"></div>


    <a role="menuitem" class="dropdown-item" href="/alarivarmann" data-ga-click="Header, go to profile, text:your profile">Your profile</a>


    <a role="menuitem" class="dropdown-item" href="/alarivarmann?tab=repositories" data-ga-click="Header, go to repositories, text:your repositories">Your repositories</a>

    <a role="menuitem" class="dropdown-item" href="/alarivarmann?tab=projects" data-ga-click="Header, go to projects, text:your projects">Your projects</a>

    <a role="menuitem" class="dropdown-item" href="/alarivarmann?tab=stars" data-ga-click="Header, go to starred repos, text:your stars">Your stars</a>
      <a role="menuitem" class="dropdown-item" href="https://gist.github.com/mine" data-ga-click="Header, your gists, text:your gists">Your gists</a>


    <div role="none" class="dropdown-divider"></div>
    <a role="menuitem" class="dropdown-item" href="https://help.github.com" data-ga-click="Header, go to help, text:help">Help</a>
    <a role="menuitem" class="dropdown-item" href="/settings/profile" data-ga-click="Header, go to settings, icon:settings">Settings</a>
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="logout-form" action="/logout" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="sbk2jq52Aj2MyuxJrsP3P1o8SFqDdysIYOcBPugOTCc9XaOk/msML6blTgTxg+y3715oZjojDoLbUILsSlDoyg==" />
      
      <button type="submit" class="dropdown-item dropdown-signout" data-ga-click="Header, sign out, icon:logout" role="menuitem">
        Sign out
      </button>
</form>  </details-menu>
</details>

    </div>

  </header>

      

  </div>

  <div id="start-of-content" class="show-on-focus"></div>


    <div id="js-flash-container">

</div>



  <div class="application-main " data-commit-hovercards-enabled>
        <div itemscope itemtype="http://schema.org/SoftwareSourceCode" class="">
    <main  >
      


  








  <div class="pagehead repohead instapaper_ignore readability-menu experiment-repo-nav pt-0 pt-lg-4 ">
    <div class="repohead-details-container clearfix container-lg p-responsive d-none d-lg-block">

      <ul class="pagehead-actions">




  <li>
    
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form data-remote="true" class="clearfix js-social-form js-social-container" action="/notifications/subscribe" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="1vR7Nc+x7+D9vzBtsRJAKnMJrhbOoeRagJVdUvD3UFhBdWpYiPdqIZCqMWdo0dNCQITf48zdfZ7ZQSTWWw3mWA==" />      <input type="hidden" name="repository_id" value="154415070">

      <details class="details-reset details-overlay select-menu float-left">
        <summary class="select-menu-button float-left btn btn-sm btn-with-count" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;WATCH_BUTTON&quot;,&quot;repository_id&quot;:154415070,&quot;client_id&quot;:&quot;104385062.1558160246&quot;,&quot;originating_request_id&quot;:&quot;9417:C386:5A1E50:8BA2FC:5D4A9126&quot;,&quot;originating_url&quot;:&quot;https://github.com/hiromis/notes/blob/master/Lesson2.md&quot;,&quot;referrer&quot;:&quot;https://course.fast.ai/videos/?lesson=2&quot;,&quot;user_id&quot;:11873020}}" data-hydro-click-hmac="69bbe771c1b4bde97fb3272683c6a3018fa0d05cd05282cb27d1d096b3a2b635" data-ga-click="Repository, click Watch settings, action:blob#show">          <span data-menu-button>
              <svg class="octicon octicon-eye v-align-text-bottom" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"/></svg>
              Watch
          </span>
</summary>        <details-menu
          class="select-menu-modal position-absolute mt-5"
          style="z-index: 99;">
          <div class="select-menu-header">
            <span class="select-menu-title">Notifications</span>
          </div>
          <div class="select-menu-list">
            <button type="submit" name="do" value="included" class="select-menu-item width-full" aria-checked="true" role="menuitemradio">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
              <div class="select-menu-item-text">
                <span class="select-menu-item-heading">Not watching</span>
                <span class="description">Be notified only when participating or @mentioned.</span>
                <span class="hidden-select-button-text" data-menu-button-contents>
                  <svg class="octicon octicon-eye v-align-text-bottom" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"/></svg>
                  Watch
                </span>
              </div>
            </button>

            <button type="submit" name="do" value="release_only" class="select-menu-item width-full" aria-checked="false" role="menuitemradio">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
              <div class="select-menu-item-text">
                <span class="select-menu-item-heading">Releases only</span>
                <span class="description">Be notified of new releases, and when participating or @mentioned.</span>
                <span class="hidden-select-button-text" data-menu-button-contents>
                  <svg class="octicon octicon-eye v-align-text-bottom" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"/></svg>
                  Unwatch releases
                </span>
              </div>
            </button>

            <button type="submit" name="do" value="subscribed" class="select-menu-item width-full" aria-checked="false" role="menuitemradio">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
              <div class="select-menu-item-text">
                <span class="select-menu-item-heading">Watching</span>
                <span class="description">Be notified of all conversations.</span>
                <span class="hidden-select-button-text" data-menu-button-contents>
                  <svg class="octicon octicon-eye v-align-text-bottom" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"/></svg>
                  Unwatch
                </span>
              </div>
            </button>

            <button type="submit" name="do" value="ignore" class="select-menu-item width-full" aria-checked="false" role="menuitemradio">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
              <div class="select-menu-item-text">
                <span class="select-menu-item-heading">Ignoring</span>
                <span class="description">Never be notified.</span>
                <span class="hidden-select-button-text" data-menu-button-contents>
                  <svg class="octicon octicon-mute v-align-text-bottom" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 2.81v10.38c0 .67-.81 1-1.28.53L3 10H1c-.55 0-1-.45-1-1V7c0-.55.45-1 1-1h2l3.72-3.72C7.19 1.81 8 2.14 8 2.81zm7.53 3.22l-1.06-1.06-1.97 1.97-1.97-1.97-1.06 1.06L11.44 8 9.47 9.97l1.06 1.06 1.97-1.97 1.97 1.97 1.06-1.06L13.56 8l1.97-1.97z"/></svg>
                  Stop ignoring
                </span>
              </div>
            </button>
          </div>
        </details-menu>
      </details>
        <a class="social-count js-social-count"
          href="/hiromis/notes/watchers"
          aria-label="46 users are watching this repository">
          46
        </a>
</form>
  </li>

  <li>
      <div class="js-toggler-container js-social-container starring-container ">
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="starred js-social-form" action="/hiromis/notes/unstar" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="/TaOjdIlffvN87UxWmrO0tygpNkUXpQ3uy/9Tk07astMDNbW4L3QCXNN4hXI18iFuVEeD4xX0WOlB0xwjQ2KAA==" />
      <input type="hidden" name="context" value="repository"></input>
      <button type="submit" class="btn btn-sm btn-with-count js-toggler-target" aria-label="Unstar this repository" title="Unstar hiromis/notes" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;UNSTAR_BUTTON&quot;,&quot;repository_id&quot;:154415070,&quot;client_id&quot;:&quot;104385062.1558160246&quot;,&quot;originating_request_id&quot;:&quot;9417:C386:5A1E50:8BA2FC:5D4A9126&quot;,&quot;originating_url&quot;:&quot;https://github.com/hiromis/notes/blob/master/Lesson2.md&quot;,&quot;referrer&quot;:&quot;https://course.fast.ai/videos/?lesson=2&quot;,&quot;user_id&quot;:11873020}}" data-hydro-click-hmac="05a342f002acbdc6b181e972fe80bf69eeea396d79bc3379eaaf6e7f3a97205c" data-ga-click="Repository, click unstar button, action:blob#show; text:Unstar">        <svg class="octicon octicon-star v-align-text-bottom" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74L14 6z"/></svg>
        Unstar
</button>        <a class="social-count js-social-count" href="/hiromis/notes/stargazers"
           aria-label="639 users starred this repository">
           639
        </a>
</form>
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="unstarred js-social-form" action="/hiromis/notes/star" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="bAidocTyAVFazhJshV61/N29gkrdpdq6xlsQumzAj9Jx4f1KrlvcoOVeLbgC4L+uQdaHCVP9046nXWRiC7vlqw==" />
      <input type="hidden" name="context" value="repository"></input>
      <button type="submit" class="btn btn-sm btn-with-count js-toggler-target" aria-label="Unstar this repository" title="Star hiromis/notes" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;STAR_BUTTON&quot;,&quot;repository_id&quot;:154415070,&quot;client_id&quot;:&quot;104385062.1558160246&quot;,&quot;originating_request_id&quot;:&quot;9417:C386:5A1E50:8BA2FC:5D4A9126&quot;,&quot;originating_url&quot;:&quot;https://github.com/hiromis/notes/blob/master/Lesson2.md&quot;,&quot;referrer&quot;:&quot;https://course.fast.ai/videos/?lesson=2&quot;,&quot;user_id&quot;:11873020}}" data-hydro-click-hmac="cd909902727e716cefc34811c29b15dcc4cb9bdb01c26957044108ae49a39f1d" data-ga-click="Repository, click star button, action:blob#show; text:Star">        <svg class="octicon octicon-star v-align-text-bottom" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74L14 6z"/></svg>
        Star
</button>        <a class="social-count js-social-count" href="/hiromis/notes/stargazers"
           aria-label="639 users starred this repository">
          639
        </a>
</form>  </div>

  </li>

  <li>
          <details class="details-reset details-overlay details-overlay-dark d-inline-block float-left">
            <summary class="btn btn-sm btn-with-count" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;FORK_BUTTON&quot;,&quot;repository_id&quot;:154415070,&quot;client_id&quot;:&quot;104385062.1558160246&quot;,&quot;originating_request_id&quot;:&quot;9417:C386:5A1E50:8BA2FC:5D4A9126&quot;,&quot;originating_url&quot;:&quot;https://github.com/hiromis/notes/blob/master/Lesson2.md&quot;,&quot;referrer&quot;:&quot;https://course.fast.ai/videos/?lesson=2&quot;,&quot;user_id&quot;:11873020}}" data-hydro-click-hmac="e71e6f40ea45ea321cd307ecaf15b11a54923dd9a9e022d048665a31c1d556bc" data-ga-click="Repository, show fork modal, action:blob#show; text:Fork" title="Fork your own copy of hiromis/notes to your account">              <svg class="octicon octicon-repo-forked v-align-text-bottom" viewBox="0 0 10 16" version="1.1" width="10" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 1a1.993 1.993 0 0 0-1 3.72V6L5 8 3 6V4.72A1.993 1.993 0 0 0 2 1a1.993 1.993 0 0 0-1 3.72V6.5l3 3v1.78A1.993 1.993 0 0 0 5 15a1.993 1.993 0 0 0 1-3.72V9.5l3-3V4.72A1.993 1.993 0 0 0 8 1zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3 10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3-10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"/></svg>
              Fork
</summary>            <details-dialog
              class="anim-fade-in fast Box Box--overlay d-flex flex-column"
              src="/hiromis/notes/fork?fragment=1"
              preload>
              <div class="Box-header">
                <button class="Box-btn-octicon btn-octicon float-right" type="button" aria-label="Close dialog" data-close-dialog>
                  <svg class="octicon octicon-x" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"/></svg>
                </button>
                <h3 class="Box-title">Fork notes</h3>
              </div>
              <div class="overflow-auto text-center">
                <include-fragment>
                  <div class="octocat-spinner my-3" aria-label="Loading..."></div>
                  <p class="f5 text-gray">If this dialog fails to load, you can visit <a href="/hiromis/notes/fork">the fork page</a> directly.</p>
                </include-fragment>
              </div>
            </details-dialog>
          </details>

    <a href="/hiromis/notes/network/members" class="social-count"
       aria-label="296 users forked this repository">
      296
    </a>
  </li>
</ul>

      <h1 class="public ">
    <svg class="octicon octicon-repo" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"/></svg>
  <span class="author" itemprop="author"><a class="url fn" rel="author" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=5401333" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/hiromis">hiromis</a></span><!--
--><span class="path-divider">/</span><!--
--><strong itemprop="name"><a data-pjax="#js-repo-pjax-container" href="/hiromis/notes">notes</a></strong>
  

</h1>

    </div>
    
<nav class="hx_reponav reponav js-repo-nav js-sidenav-container-pjax container-lg p-responsive d-none d-lg-block"
     itemscope
     itemtype="http://schema.org/BreadcrumbList"
    aria-label="Repository"
     data-pjax="#js-repo-pjax-container">

  <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
    <a class="js-selected-navigation-item selected reponav-item" itemprop="url" data-hotkey="g c" aria-current="page" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches repo_packages /hiromis/notes" href="/hiromis/notes">
      <svg class="octicon octicon-code" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M9.5 3L8 4.5 11.5 8 8 11.5 9.5 13 14 8 9.5 3zm-5 0L0 8l4.5 5L6 11.5 2.5 8 6 4.5 4.5 3z"/></svg>
      <span itemprop="name">Code</span>
      <meta itemprop="position" content="1">
</a>  </span>

    <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
      <a itemprop="url" data-hotkey="g i" class="js-selected-navigation-item reponav-item" data-selected-links="repo_issues repo_labels repo_milestones /hiromis/notes/issues" href="/hiromis/notes/issues">
        <svg class="octicon octicon-issue-opened" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg>
        <span itemprop="name">Issues</span>
        <span class="Counter">1</span>
        <meta itemprop="position" content="2">
</a>    </span>

  <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
    <a data-hotkey="g p" itemprop="url" class="js-selected-navigation-item reponav-item" data-selected-links="repo_pulls checks /hiromis/notes/pulls" href="/hiromis/notes/pulls">
      <svg class="octicon octicon-git-pull-request" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"/></svg>
      <span itemprop="name">Pull requests</span>
      <span class="Counter">1</span>
      <meta itemprop="position" content="3">
</a>  </span>


    <a data-hotkey="g b" class="js-selected-navigation-item reponav-item" data-selected-links="repo_projects new_repo_project repo_project /hiromis/notes/projects" href="/hiromis/notes/projects">
      <svg class="octicon octicon-project" viewBox="0 0 15 16" version="1.1" width="15" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M10 12h3V2h-3v10zm-4-2h3V2H6v8zm-4 4h3V2H2v12zm-1 1h13V1H1v14zM14 0H1a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1z"/></svg>
      Projects
      <span class="Counter" >0</span>
</a>

    <a class="js-selected-navigation-item reponav-item" data-hotkey="g w" data-selected-links="repo_wiki /hiromis/notes/wiki" href="/hiromis/notes/wiki">
      <svg class="octicon octicon-book" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M3 5h4v1H3V5zm0 3h4V7H3v1zm0 2h4V9H3v1zm11-5h-4v1h4V5zm0 2h-4v1h4V7zm0 2h-4v1h4V9zm2-6v9c0 .55-.45 1-1 1H9.5l-1 1-1-1H2c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h5.5l1 1 1-1H15c.55 0 1 .45 1 1zm-8 .5L7.5 3H2v9h6V3.5zm7-.5H9.5l-.5.5V12h6V3z"/></svg>
      Wiki
</a>
    <a data-skip-pjax="true" class="js-selected-navigation-item reponav-item" data-selected-links="security alerts policy /hiromis/notes/security/advisories" href="/hiromis/notes/security/advisories">
      <svg class="octicon octicon-shield" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M0 2l7-2 7 2v6.02C14 12.69 8.69 16 7 16c-1.69 0-7-3.31-7-7.98V2zm1 .75L7 1l6 1.75v5.268C13 12.104 8.449 15 7 15c-1.449 0-6-2.896-6-6.982V2.75zm1 .75L7 2v12c-1.207 0-5-2.482-5-5.985V3.5z"/></svg>
      Security
</a>
    <a class="js-selected-navigation-item reponav-item" data-selected-links="repo_graphs repo_contributors dependency_graph pulse people /hiromis/notes/pulse" href="/hiromis/notes/pulse">
      <svg class="octicon octicon-graph" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M16 14v1H0V0h1v14h15zM5 13H3V8h2v5zm4 0H7V3h2v10zm4 0h-2V6h2v7z"/></svg>
      Insights
</a>

</nav>

  <div class="reponav-wrapper reponav-small d-lg-none">
  <nav class="reponav js-reponav text-center no-wrap"
       itemscope
       itemtype="http://schema.org/BreadcrumbList">

    <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
      <a class="js-selected-navigation-item selected reponav-item" itemprop="url" aria-current="page" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches repo_packages /hiromis/notes" href="/hiromis/notes">
        <span itemprop="name">Code</span>
        <meta itemprop="position" content="1">
</a>    </span>

      <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
        <a itemprop="url" class="js-selected-navigation-item reponav-item" data-selected-links="repo_issues repo_labels repo_milestones /hiromis/notes/issues" href="/hiromis/notes/issues">
          <span itemprop="name">Issues</span>
          <span class="Counter">1</span>
          <meta itemprop="position" content="2">
</a>      </span>

    <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
      <a itemprop="url" class="js-selected-navigation-item reponav-item" data-selected-links="repo_pulls checks /hiromis/notes/pulls" href="/hiromis/notes/pulls">
        <span itemprop="name">Pull requests</span>
        <span class="Counter">1</span>
        <meta itemprop="position" content="3">
</a>    </span>

      <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
        <a itemprop="url" class="js-selected-navigation-item reponav-item" data-selected-links="repo_projects new_repo_project repo_project /hiromis/notes/projects" href="/hiromis/notes/projects">
          <span itemprop="name">Projects</span>
          <span class="Counter">0</span>
          <meta itemprop="position" content="4">
</a>      </span>

      <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
        <a itemprop="url" class="js-selected-navigation-item reponav-item" data-selected-links="repo_wiki /hiromis/notes/wiki" href="/hiromis/notes/wiki">
          <span itemprop="name">Wiki</span>
          <meta itemprop="position" content="5">
</a>      </span>

      <a itemprop="url" class="js-selected-navigation-item reponav-item" data-selected-links="security alerts policy /hiromis/notes/security/advisories" href="/hiromis/notes/security/advisories">
        <span itemprop="name">Security</span>
        <meta itemprop="position" content="6">
</a>
      <a class="js-selected-navigation-item reponav-item" data-selected-links="pulse /hiromis/notes/pulse" href="/hiromis/notes/pulse">
        Pulse
</a>
      <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
        <a itemprop="url" class="js-selected-navigation-item reponav-item" data-selected-links="community /hiromis/notes/community" href="/hiromis/notes/community">
          Community
</a>      </span>

  </nav>
</div>


  </div>
<div class="container-lg clearfix new-discussion-timeline experiment-repo-nav  p-responsive">
  <div class="repository-content ">

    
    


  


    <a class="d-none js-permalink-shortcut" data-hotkey="y" href="/hiromis/notes/blob/a21c432930e55661c12d2b3ea103f61aba86856a/Lesson2.md">Permalink</a>

    <!-- blob contrib key: blob_contributors:v21:ff4f964b0f676eb9c87bae2a75068039 -->
      

    <div class="d-flex flex-items-start flex-shrink-0 pb-3 flex-column flex-md-row">
      <span class="d-flex flex-justify-between width-full width-md-auto">
        
<details class="details-reset details-overlay select-menu branch-select-menu  hx_rsm" id="branch-select-menu">
  <summary class="btn btn-sm select-menu-button css-truncate"
           data-hotkey="w"
           
           title="Switch branches or tags">
    <i>Branch:</i>
    <span class="css-truncate-target">master</span>
  </summary>

  <details-menu class="select-menu-modal hx_rsm-modal position-absolute" style="z-index: 99;" src="/hiromis/notes/ref-list/master/Lesson2.md?source_action=show&amp;source_controller=blob" preload>
    <include-fragment class="select-menu-loading-overlay anim-pulse">
      <svg height="32" class="octicon octicon-octoface" viewBox="0 0 16 16" version="1.1" width="32" aria-hidden="true"><path fill-rule="evenodd" d="M14.7 5.34c.13-.32.55-1.59-.13-3.31 0 0-1.05-.33-3.44 1.3-1-.28-2.07-.32-3.13-.32s-2.13.04-3.13.32c-2.39-1.64-3.44-1.3-3.44-1.3-.68 1.72-.26 2.99-.13 3.31C.49 6.21 0 7.33 0 8.69 0 13.84 3.33 15 7.98 15S16 13.84 16 8.69c0-1.36-.49-2.48-1.3-3.35zM8 14.02c-3.3 0-5.98-.15-5.98-3.35 0-.76.38-1.48 1.02-2.07 1.07-.98 2.9-.46 4.96-.46 2.07 0 3.88-.52 4.96.46.65.59 1.02 1.3 1.02 2.07 0 3.19-2.68 3.35-5.98 3.35zM5.49 9.01c-.66 0-1.2.8-1.2 1.78s.54 1.79 1.2 1.79c.66 0 1.2-.8 1.2-1.79s-.54-1.78-1.2-1.78zm5.02 0c-.66 0-1.2.79-1.2 1.78s.54 1.79 1.2 1.79c.66 0 1.2-.8 1.2-1.79s-.53-1.78-1.2-1.78z"/></svg>
    </include-fragment>
  </details-menu>
</details>

        <div class="BtnGroup flex-shrink-0 d-md-none">
          <a href="/hiromis/notes/find/master"
                class="js-pjax-capture-input btn btn-sm BtnGroup-item"
                data-pjax
                data-hotkey="t">
            Find file
          </a>
          <clipboard-copy value="Lesson2.md" class="btn btn-sm BtnGroup-item">
            Copy path
          </clipboard-copy>
        </div>
      </span>
      <h2 id="blob-path" class="breadcrumb flex-auto min-width-0 text-normal flex-md-self-center ml-md-2 mr-md-3 my-2 my-md-0">
        <span class="js-repo-root text-bold"><span class="js-path-segment"><a data-pjax="true" href="/hiromis/notes"><span>notes</span></a></span></span><span class="separator">/</span><strong class="final-path">Lesson2.md</strong>
      </h2>

      <div class="BtnGroup flex-shrink-0 d-none d-md-inline-block">
        <a href="/hiromis/notes/find/master"
              class="js-pjax-capture-input btn btn-sm BtnGroup-item"
              data-pjax
              data-hotkey="t">
          Find file
        </a>
        <clipboard-copy value="Lesson2.md" class="btn btn-sm BtnGroup-item">
          Copy path
        </clipboard-copy>
      </div>
    </div>



    
  <div class="Box Box--condensed d-flex flex-column flex-shrink-0">
      <div class="Box-body d-flex flex-justify-between bg-blue-light flex-column flex-md-row flex-items-start flex-md-items-center">
        <span class="pr-md-4 f6">
          <a rel="contributor" data-skip-pjax="true" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=29544974" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/marcostoscano95"><img class="avatar" src="https://avatars2.githubusercontent.com/u/29544974?s=40&amp;v=4" width="20" height="20" alt="@marcostoscano95" /></a>
          <a class="text-bold link-gray-dark lh-default v-align-middle" rel="contributor" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=29544974" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/marcostoscano95">marcostoscano95</a>
            <span class="lh-default v-align-middle">
              <a data-pjax="true" title="Fixed typo lesson2 (#35)" class="link-gray" href="/hiromis/notes/commit/c4afa7677a93f8d2955b3b742126de7c05cc4fb7">Fixed typo lesson2 (</a><a class="issue-link js-issue-link" data-error-text="Failed to load issue title" data-id="470477449" data-permission-text="Issue title is private" data-url="https://github.com/hiromis/notes/issues/35" data-hovercard-type="pull_request" data-hovercard-url="/hiromis/notes/pull/35/hovercard" href="https://github.com/hiromis/notes/pull/35">#35</a><a data-pjax="true" title="Fixed typo lesson2 (#35)" class="link-gray" href="/hiromis/notes/commit/c4afa7677a93f8d2955b3b742126de7c05cc4fb7">)</a>
            </span>
        </span>
        <span class="d-inline-block flex-shrink-0 v-align-bottom f6 mt-2 mt-md-0">
          <a class="pr-2 text-mono link-gray" href="/hiromis/notes/commit/c4afa7677a93f8d2955b3b742126de7c05cc4fb7" data-pjax>c4afa76</a>
          <relative-time datetime="2019-07-24T18:23:17Z">Jul 24, 2019</relative-time>
        </span>
      </div>

    <div class="Box-body d-flex flex-items-center flex-auto f6 border-bottom-0 flex-wrap" >
      <details class="details-reset details-overlay details-overlay-dark lh-default text-gray-dark float-left mr-2" id="blob_contributors_box">
        <summary class="btn-link" aria-haspopup="dialog">
          <span><strong>6</strong> contributors</span>
        </summary>
        <details-dialog
          class="Box Box--overlay d-flex flex-column anim-fade-in fast"
          aria-label="Users who have contributed to this file"
          src="/hiromis/notes/contributors/master/Lesson2.md/list" preload>
          <div class="Box-header">
            <button class="Box-btn-octicon btn-octicon float-right" type="button" aria-label="Close dialog" data-close-dialog>
              <svg class="octicon octicon-x" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"/></svg>
            </button>
            <h3 class="Box-title">
              Users who have contributed to this file
            </h3>
          </div>
          <include-fragment class="octocat-spinner my-3" aria-label="Loading..."></include-fragment>
        </details-dialog>
      </details>
        <span class="">
    <a class="avatar-link" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=5401333" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/hiromis/notes/commits/master/Lesson2.md?author=hiromis">
      <img class="avatar mr-1" src="https://avatars2.githubusercontent.com/u/5401333?s=40&amp;v=4" width="20" height="20" alt="@hiromis" /> 
</a>    <a class="avatar-link" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=36303596" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/hiromis/notes/commits/master/Lesson2.md?author=MicPie">
      <img class="avatar mr-1" src="https://avatars0.githubusercontent.com/u/36303596?s=40&amp;v=4" width="20" height="20" alt="@MicPie" /> 
</a>    <a class="avatar-link" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=10676103" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/hiromis/notes/commits/master/Lesson2.md?author=stas00">
      <img class="avatar mr-1" src="https://avatars1.githubusercontent.com/u/10676103?s=40&amp;v=4" width="20" height="20" alt="@stas00" /> 
</a>    <a class="avatar-link" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=29544974" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/hiromis/notes/commits/master/Lesson2.md?author=marcostoscano95">
      <img class="avatar mr-1" src="https://avatars2.githubusercontent.com/u/29544974?s=40&amp;v=4" width="20" height="20" alt="@marcostoscano95" /> 
</a>    <a class="avatar-link" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=19997320" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/hiromis/notes/commits/master/Lesson2.md?author=krshrimali">
      <img class="avatar mr-1" src="https://avatars2.githubusercontent.com/u/19997320?s=40&amp;v=4" width="20" height="20" alt="@krshrimali" /> 
</a>    <a class="avatar-link" data-hovercard-type="user" data-hovercard-url="/hovercards?user_id=7577457" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/hiromis/notes/commits/master/Lesson2.md?author=jshuadvd">
      <img class="avatar mr-1" src="https://avatars2.githubusercontent.com/u/7577457?s=40&amp;v=4" width="20" height="20" alt="@jshuadvd" /> 
</a>
</span>

    </div>
  </div>





    <div class="Box mt-3 position-relative">
      
<div class="Box-header py-2 d-flex flex-column flex-shrink-0 flex-md-row flex-md-items-center">

  <div class="text-mono f6 flex-auto pr-3 flex-order-2 flex-md-order-1 mt-2 mt-md-0">
      1309 lines (759 sloc)
      <span class="file-info-divider"></span>
    105 KB
  </div>

  <div class="d-flex py-1 py-md-0 flex-auto flex-order-1 flex-md-order-2 flex-sm-grow-0 flex-justify-between">

    <div class="BtnGroup">
      <a id="raw-url" class="btn btn-sm BtnGroup-item" href="/hiromis/notes/raw/master/Lesson2.md">Raw</a>
        <a class="btn btn-sm js-update-url-with-hash BtnGroup-item" data-hotkey="b" href="/hiromis/notes/blame/master/Lesson2.md">Blame</a>
      <a rel="nofollow" class="btn btn-sm BtnGroup-item" href="/hiromis/notes/commits/master/Lesson2.md">History</a>
    </div>


    <div>
            <a class="btn-octicon tooltipped tooltipped-nw hide-sm"
               href="x-github-client://openRepo/https://github.com/hiromis/notes?branch=master&amp;filepath=Lesson2.md"
               aria-label="Open this file in GitHub Desktop"
               data-ga-click="Repository, open with desktop, type:windows">
                <svg class="octicon octicon-device-desktop" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M15 2H1c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h5.34c-.25.61-.86 1.39-2.34 2h8c-1.48-.61-2.09-1.39-2.34-2H15c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm0 9H1V3h14v8z"/></svg>
            </a>

            <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="inline-form js-update-url-with-hash" action="/hiromis/notes/edit/master/Lesson2.md" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="OPP14zIkTtlz2x6olmp5tDv0aVAc5xeoVbrilUUJ09skXCL2Gv2CLoBYu9JUaGgr6GJuJZz38/E5LDqrdaSwFQ==" />
              <button class="btn-octicon tooltipped tooltipped-nw" type="submit"
                aria-label="Fork this project and edit the file" data-hotkey="e" data-disable-with>
                <svg class="octicon octicon-pencil" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M0 12v3h3l8-8-3-3-8 8zm3 2H1v-2h1v1h1v1zm10.3-9.3L12 6 9 3l1.3-1.3a.996.996 0 0 1 1.41 0l1.59 1.59c.39.39.39 1.02 0 1.41z"/></svg>
              </button>
</form>
          <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="inline-form" action="/hiromis/notes/delete/master/Lesson2.md" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="QQ0eZUy57o3cDZnpA2fMsGusmy2bMLEfGYIVoqMFVKJpWh2NqY4d8PpncEOIxJVEIer1pqx0YJD+VrypSfX0Xg==" />
            <button class="btn-octicon btn-octicon-danger tooltipped tooltipped-nw" type="submit"
              aria-label="Fork this project and delete the file" data-disable-with>
              <svg class="octicon octicon-trashcan" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11 2H9c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1H2c-.55 0-1 .45-1 1v1c0 .55.45 1 1 1v9c0 .55.45 1 1 1h7c.55 0 1-.45 1-1V5c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm-1 12H3V5h1v8h1V5h1v8h1V5h1v8h1V5h1v9zm1-10H2V3h9v1z"/></svg>
            </button>
</form>    </div>
  </div>
</div>




      
  <div id="readme" class="Box-body readme blob instapaper_body js-code-block-container">
    <article class="markdown-body entry-content p-3 p-md-6" itemprop="text"><h1><a id="user-content-lesson-2" class="anchor" aria-hidden="true" href="#lesson-2"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Lesson 2</h1>
<p><a href="https://youtu.be/Egp4Zajhzog" rel="nofollow">Video</a> / Lesson Forum / General Forum</p>
<h2><a id="user-content-deeper-dive-into-computer-vision" class="anchor" aria-hidden="true" href="#deeper-dive-into-computer-vision"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Deeper Dive into Computer Vision</h2>
<p>Taking a deeper dive into computer vision applications, taking some of the amazing stuff you've all been doing during the week, and going even further.</p>
<h3><a id="user-content-forum-tips-and-tricks-017" class="anchor" aria-hidden="true" href="#forum-tips-and-tricks-017"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Forum tips and tricks <a href="https://youtu.be/Egp4Zajhzog?t=17" rel="nofollow">[0:17]</a></h3>
<p>Two important forum topics:</p>
<ul>
<li>
<p><a href="https://forums.fast.ai/t/faq-resources-and-official-course-updates/27934/" rel="nofollow">FAQ, resources, and official course updates</a></p>
</li>
<li>
<p><a href="https://forums.fast.ai/t/lesson-2-official-resources-and-updates/28630" rel="nofollow">Lesson 2 official resources and updates</a></p>
</li>
</ul>
<h4><a id="user-content-summarize-this-topic-232" class="anchor" aria-hidden="true" href="#summarize-this-topic-232"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>"Summarize This Topic" <a href="https://youtu.be/Egp4Zajhzog?t=152" rel="nofollow">[2:32]</a></h4>
<p>After just one week, the most popular thread has 1.1k replies which is intimidatingly large number. You shouldn't need to read all of it.  What you should do is click "Summarize This Topic" and it will only show the most liked ones.</p>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/1.png"><img src="/hiromis/notes/raw/master/lesson2/1.png" alt="" style="max-width:100%;"></a></p>
<h4><a id="user-content-returning-to-work-319" class="anchor" aria-hidden="true" href="#returning-to-work-319"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Returning to work <a href="https://youtu.be/Egp4Zajhzog?t=199" rel="nofollow">[3:19]</a></h4>
<p><a href="https://course-v3.fast.ai/" rel="nofollow">https://course-v3.fast.ai/</a> now has a "Returning to work" section which will show you (for each specific platform you use):</p>
<ul>
<li>How to make sure you have the latest notebooks</li>
<li>How to make sure you have the latest fastai library</li>
</ul>
<p>If things aren't working for you, if you get into some kind of messy situation, which we all do, just delete your instance and start again unless you've got mission-critical stuff there ‚Äî it's the easiest way just to get out of a sticky situation.</p>
<h3><a id="user-content-what-people-have-been-doing-this-week-419" class="anchor" aria-hidden="true" href="#what-people-have-been-doing-this-week-419"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What people have been doing this week <a href="https://youtu.be/Egp4Zajhzog?t=259" rel="nofollow">[4:19]</a></h3>
<p><a href="https://forums.fast.ai/t/share-your-work-here/27676/" rel="nofollow">Share your work here</a></p>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/2.png"><img src="/hiromis/notes/raw/master/lesson2/2.png" alt="" style="max-width:100%;"></a></p>
<ul>
<li><a href="https://forums.fast.ai/t/share-your-work-here/27676/143" rel="nofollow">Figuring out who is talking ‚Äî is it Ben Affleck or Joe Rogan</a></li>
<li><a href="https://forums.fast.ai/t/share-your-work-here/27676/97" rel="nofollow">Cleaning up Watsapp downloaded images folder to get rid of memes</a></li>
</ul>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/3.png"><img src="/hiromis/notes/raw/master/lesson2/3.png" alt="" style="max-width:100%;"></a></p>
<p><a href="https://forums.fast.ai/t/share-your-work-here/27676/215" rel="nofollow">Forum post</a></p>
<p>One of the really interesting projects was looking at the sound data that was used in <a href="https://arxiv.org/abs/1608.04363" rel="nofollow">this paper</a>. In this paper, they were trying to figure out what kind of sound things were. They got a state of the art of nearly 80% accuracy. Ethan Sutin then tried using the lesson 1 techniques and got 80.5% accuracy, so I think this is pretty awesome. Best as we know, it's a new state of the art for this problem. Maybe somebody since has published something we haven't found it yet. So take all of these with a slight grain of salt, but I've mentioned them on Twitter and lots of people on Twitter follow me, so if anybody knew that there was a much better approach, I'm sure somebody would have said so.</p>
<p>[<a href="https://youtu.be/Egp4Zajhzog?t=361" rel="nofollow">6:01</a>]</p>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/4.png"><img src="/hiromis/notes/raw/master/lesson2/4.png" alt="" style="max-width:100%;"></a></p>
<p><a href="https://forums.fast.ai/t/share-your-work-here/27676/38" rel="nofollow">Forum post</a></p>
<p>Suvash has a new state of the art accuracy for Devanagari text recognition. I think he's got it even higher than this now. This is actually confirmed by the person on Twitter who created the dataset. I don't think he had any idea, he just posted here's a nice thing I did and this guy on Twitter said: "Oh, I made that dataset. Congratulations, you've got a new record." So that was pretty cool.</p>
<p>[<a href="https://youtu.be/Egp4Zajhzog?t=388" rel="nofollow">6:28</a>]</p>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/5.png"><img src="/hiromis/notes/raw/master/lesson2/5.png" alt="" style="max-width:100%;"></a></p>
<p><a href="https://medium.com/@alenaharley/the-mystery-of-the-origin-cancer-type-classification-using-fast-ai-libray-212eaf8d3f4e" rel="nofollow">The Mystery of the Origin</a></p>
<p>I really like this post from Alena Harley. She describes in quite a bit of detail about the issue of metastasizing cancers and the use of point mutations and why that's a challenging important problem. She's got some nice pictures describing what she wants to do with this and how she can go about turning this into pictures. This is the cool trick ‚Äî it's the same with urning sounds into pictures and then using the lesson 1 approach. Here is turning point mutations into pictures and then using the lesson 1 approach. And it seems that she's got a new state of the art result by more than 30% beating the previous best. Somebody on Twitter who is a VP at a genomics analysis company looked at this as well and thought it looked to be a state of the art in this particular point mutation one as well. So that's pretty exciting.</p>
<p>When we talked about last week this idea that this simple process is something which can take you a long way, it really can. I will mention that something like this one in particular is using a lot of domain expertise, like figuring out that picture to create. I wouldn't know how to do that because I don't really know what a point mutation is, let alone how to create something that visually is meaningful that a CNN could recognize. But the actual deep learning side is actually straight forward.</p>
<p>[<a href="https://youtu.be/Egp4Zajhzog?t=487" rel="nofollow">8:07</a>]</p>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/6.png"><img src="/hiromis/notes/raw/master/lesson2/6.png" alt="" style="max-width:100%;"></a></p>
<p>Another cool result from Simon Willison and Natalie Downe, they created a cougar or not web application over the weekend and won the Science Hack Day award in San Francisco. So I think that's pretty fantastic. So lots of examples of people doing really interesting work. Hopefully this will be inspiring to you to think well to think wow, this is cool that I can do this with what I've learned. It can also be intimidating to think like wow, these people are doing amazing things. But it's important to realize that as thousands of people are doing this course, I'm just picking out a few of really amazing ones. And in fact Simon is one of these very annoying people like Christine Payne who we talked about last week who seems to be good at everything he does. He created Django which is the world's most popular web frameworks, he founded a very successful startup, etc. One of those annoying people who tends to keep being good at things, now turns out he's good at deep learning as well. So that's fine. Simon can go on and win a hackathon on his first week of playing with deep learning. Maybe it'll take you two weeks to win your first hackathon. That's okay.</p>
<p>[<a href="https://youtu.be/Egp4Zajhzog?t=562" rel="nofollow">9:22</a>]</p>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/7.png"><img src="/hiromis/notes/raw/master/lesson2/7.png" alt="" style="max-width:100%;"></a></p>
<p>I think it's important to mention this because there was this really inspiring blog post this week from James Dellinger who talked about how he created a bird classifier using techniques from lesson 1. But what I really found interesting was at the end, he said he nearly didn't start on deep learning at all because he went through the scikit-learn website which is one of the most important libraries of Python and he saw this. And he described in this post how he was just like that's not something I can do. That's not something I understand. Then this kind of realization of like oh, I can do useful things without reading the Greek, so I thought that was really cool message.</p>
<p>[<a href="https://youtu.be/Egp4Zajhzog?t=601" rel="nofollow">10:01</a>]</p>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/8.png"><img src="/hiromis/notes/raw/master/lesson2/8.png" alt="" style="max-width:100%;"></a></p>
<p>I really wanted to highlight Daniel Armstrong on the forum. I think really shows he's a great role model here. He was saying I want to contribute to the library and I looked at the docs and I just found it overwhelming. The next message, one day later, was I don't know what any of this is, I didn't know how much there is to it, caught me off guard, my brain shut down but I love the way it forces me to learn so much. And a day later, I just submitted my first pull request. So I think that's awesome. It's okay to feel intimidated. There's a lot. But just pick one piece and dig into it. Try and push a piece of code or a documentation update, or create a classifier or whatever.</p>
<p>[<a href="https://youtu.be/Egp4Zajhzog?t=649" rel="nofollow">10:49</a>]</p>
<p>So here's lots of cool classifiers people have built. It's been really inspiring.</p>
<ul>
<li>Trinidad and Tobago islanders versus masquerader classifier</li>
<li>A zucchini versus cucumber classifier</li>
<li>Dog and cat breed classifier from last week and actually doing some exploratory work to see what the main features were, and discovered that one was most hairy dog and naked cats. So there are interesting you can do with interpretation.</li>
<li>Somebody else in the forum took that and did the same thing for anime to find that they had accidentally discovered an anime hair color classifier.</li>
<li>We can now detect the new versus the old Panamanian buses.</li>
<li>Henri Palacci discovered that he can recognize with 85% accuracy which of 110 countries a satellite image is of which is definitely got to be beyond human performance of just about anybody.</li>
<li>Batik cloth classification with a hundred percent accuracy</li>
<li>Dave Luo did this interesting one. He actually went a little bit further using some techniques we'll be discussing in the next couple of courses to build something that can recognize complete/incomplete/foundation buildings and actually plot them on aerial satellite view.</li>
</ul>
<p>So lots and lots of fascinating projects. So don't worry. It's only been one week. It doesn't mean everybody has to have had a project out yet. A lot of the folks who already have a project out have done a previous course, so they've got a bit of a head start. But we will see today how you can definitely create your own classifier this week.</p>
<p><a href="https://youtu.be/Egp4Zajhzog?t=776" rel="nofollow">[12:56]</a></p>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/9.png"><img src="/hiromis/notes/raw/master/lesson2/9.png" alt="" style="max-width:100%;"></a></p>
<p>So from today, after we did a bit deeper into really how to make these computer vision classifiers and particular work well, we're then going to look at the same thing for text. We're then going to look at the same thing for tabular data. They are more like spreadsheets and databases. Then we're going to look at collaborative filtering (i.e. recommendation systems). That's going to take us into a topic called embeddings which is a key underlying platform behind these applications. That will take us back into more computer vision and then back into more NLP. So the idea here is that it turns out that it's much better for learning if you see things multiple times so rather than being like okay, that's computer vision, you won't see it again for the rest of the course, we're actually going to come back to the two key applications NLP and computer vision a few weeks apart. That's going to force your brain to realize oh, I have to remember this. It's not must something I can throw away.</p>
<p><a href="https://youtu.be/Egp4Zajhzog?t=846" rel="nofollow">[14:06]</a></p>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/10.png"><img src="/hiromis/notes/raw/master/lesson2/10.png" alt="" style="max-width:100%;"></a></p>
<p>For people who have more of a hard sciences background in particular, a lot of folks find this hey, here's some code, type it in, start running it approach rather than here's lots of theory approach confusing and surprising and odd at first. So for those of you, I just wanted to remind you this basic tip which is keep going. You're not expected to remember everything yet. You're not expected to understand everything yet. You're not expected to know why everything works yet. You just want to be in a situation where you can enter the code and you can run it and you can get something happening and then you can start to experiment and you get a feel for what's going on. Then push on. Most of the people who have done the course and have gone on to be really successful watch the videos at least three times. So they kind of go through the whole lot and then go through it slowly the second time, then they go through it really slowly the third time. I consistently hear them say I get a lot more out of it each time I go through. So don't pause at lesson 1 and stop until you can continue.</p>
<p>This approach is based on a lot of academic research into learning theory. One guy in particular David Perkins from Harvard has this really great analogy. He is a researcher into learning theory. He describes this approach of whole game which is basically if you're teaching a kid to play soccer, you don't first of all teach them about how the friction between a ball and grass works and then teach them how to saw a soccer ball with their bare hands, and then teach them the mathematics of parabolas when you kick something in the air. No. You say, here's a ball. Let's watch some people playing soccer. Okay, now we'll play soccer and then gradually over the following years, learn more and more so that you can get better and better at it. So this is kind of what we're trying to get you to do is to play soccer which in our case is to type code and look at the inputs and look at the outputs.</p>
<h2><a id="user-content-teddy-bear-detector-using-google-images-1621" class="anchor" aria-hidden="true" href="#teddy-bear-detector-using-google-images-1621"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Teddy bear detector using Google Images [<a href="https://youtu.be/Egp4Zajhzog?t=981" rel="nofollow">16:21</a>]</h2>
<p>Let's dig into our first notebook which is called <a href="https://github.com/fastai/course-v3/blob/master/nbs/dl1/lesson2-download.ipynb">lesson2-download.ipynb</a>. What we are going to do is we are going to see how to create your own classifier with your own images. It's going to be a lot like last week's pet detector but it will detect whatever you like. So to be like some of those examples we just saw. How would you create your own Panama bus detector from scratch. This is approach is inspired by Adrian Rosebrock who has a terrific website called <a href="https://www.pyimagesearch.com/" rel="nofollow">pyimagesearch</a> and he has this nice explanation of  <a href="https://www.pyimagesearch.com/2017/12/04/how-to-create-a-deep-learning-dataset-using-google-images/" rel="nofollow">how to create a deep learning dataset using Google Images</a>. So that was definitely an inspiration for some of the techniques we use here, so thank you to Adrian and you should definitely check out his site. It's full of lots of good resources.</p>
<p>We are going to try to create a teddy bear detector. And we're going to separate teddy bears from black bears, from grizzly bears. This is very important. I have a three year old daughter and she needs to know what she's dealing with. In our house, you would be surprised at the number of monsters, lions, and other terrifying threats that are around particularly around Halloween. So we always need to be on the lookout to make sure that the things we're about to cuddle is in fact a genuine teddy bear. So let's deal with that situation as best as we can.</p>
<h3><a id="user-content-step-1-gather-urls-of-each-class-of-images" class="anchor" aria-hidden="true" href="#step-1-gather-urls-of-each-class-of-images"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 1: Gather URLs of each class of images</h3>
<p>Our starting point is to find some pictures of teddy bears so we can learn what they look like. So I go to  <a href="https://images.google.com/" rel="nofollow">https://images.google.com/</a> and I type in Teddy bear and I just scroll through until I find a goodly bunch of them. Okay, that looks like plenty of teddy bears to me.</p>
<p>Then I go back to <a href="https://github.com/fastai/course-v3/blob/master/nbs/dl1/lesson2-download.ipynb">the notebook</a> and you can see it says "go to Google Images and search and scroll." The next thing we need to do is to get a list of all the URLs there. To do that, back in your google images, you hit <kbd>Ctrl</kbd><kbd>Shift</kbd><kbd>J</kbd> in Windows/Linux and <kbd>Cmd</kbd><kbd>Opt</kbd><kbd>J</kbd> in Mac, and you paste the following into the window that appears:</p>
<div class="highlight highlight-source-js"><pre>urls <span class="pl-k">=</span> <span class="pl-c1">Array</span>.<span class="pl-en">from</span>(<span class="pl-c1">document</span>.<span class="pl-c1">querySelectorAll</span>(<span class="pl-s"><span class="pl-pds">'</span>.rg_di .rg_meta<span class="pl-pds">'</span></span>)).<span class="pl-en">map</span>(<span class="pl-smi">el</span><span class="pl-k">=&gt;</span><span class="pl-c1">JSON</span>.<span class="pl-c1">parse</span>(<span class="pl-smi">el</span>.<span class="pl-smi">textContent</span>).<span class="pl-smi">ou</span>);
<span class="pl-c1">window</span>.<span class="pl-c1">open</span>(<span class="pl-s"><span class="pl-pds">'</span>data:text/csv;charset=utf-8,<span class="pl-pds">'</span></span> <span class="pl-k">+</span> <span class="pl-c1">escape</span>(<span class="pl-smi">urls</span>.<span class="pl-c1">join</span>(<span class="pl-s"><span class="pl-pds">'</span><span class="pl-cce">\n</span><span class="pl-pds">'</span></span>)));</pre></div>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/11.png"><img src="/hiromis/notes/raw/master/lesson2/11.png" alt="" style="max-width:100%;"></a></p>
<p>This is a Javascript console for those of you who haven't done any Javascript before. I hit enter and it downloads my file for me. So I would call this teddies.txt and press "Save". Okay, now I have a file containing URLs of teddies. Then I would repeat that process for black bears and for grizzly bears, and I put each one in a file with an appropriate name.</p>
<h3><a id="user-content-step-2-download-images-1939" class="anchor" aria-hidden="true" href="#step-2-download-images-1939"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 2: Download images [<a href="https://youtu.be/Egp4Zajhzog?t=1179" rel="nofollow">19:39</a>]</h3>
<p>So step 2 is we now need to download those URLs to our server. Because remember when we're using Jupyter Notebook, it's not running on our computer. It's running on SageMaker or Crestle, or Google cloud, etc. So to do that, we start running some Jupyer cells. Let's grab the fastai library:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">from</span> fastai <span class="pl-k">import</span> <span class="pl-k">*</span>
<span class="pl-k">from</span> fastai.vision <span class="pl-k">import</span> <span class="pl-k">*</span></pre></div>
<p>And let's start with black bears. So I click on this cell for black bears and I'll run it. So here, I've got three different cells doing the same thing but different information. This is one way I like to work with Jupyter notebook. It's something that a lot of people with more strict scientific background are horrified by. This is not reproducible research. I click on the black bear cell, and run it to create a folder called black and a file called urls_black.txt for my black bears. I skip the next two cells.</p>
<div class="highlight highlight-source-python"><pre>folder <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>black<span class="pl-pds">'</span></span>
<span class="pl-v">file</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>urls_black.txt<span class="pl-pds">'</span></span></pre></div>
<div class="highlight highlight-source-python"><pre>folder <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>teddys<span class="pl-pds">'</span></span>
<span class="pl-v">file</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>urls_teddys.txt<span class="pl-pds">'</span></span></pre></div>
<div class="highlight highlight-source-python"><pre>folder <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>grizzly<span class="pl-pds">'</span></span>
<span class="pl-v">file</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>urls_grizzly.txt<span class="pl-pds">'</span></span></pre></div>
<p>Then I run this cell to create that folder.</p>
<div class="highlight highlight-source-python"><pre>path <span class="pl-k">=</span> Path(<span class="pl-s"><span class="pl-pds">'</span>data/bears<span class="pl-pds">'</span></span>)
dest <span class="pl-k">=</span> path<span class="pl-k">/</span>folder
dest.mkdir(<span class="pl-v">parents</span><span class="pl-k">=</span><span class="pl-c1">True</span>, <span class="pl-v">exist_ok</span><span class="pl-k">=</span><span class="pl-c1">True</span>)</pre></div>
<p>Then I go down to the next section and I run the next cell which is download images for black bears. So that's just going to download my black bears to that folder.</p>
<div class="highlight highlight-source-python"><pre>classes <span class="pl-k">=</span> [<span class="pl-s"><span class="pl-pds">'</span>teddys<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>grizzly<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>black<span class="pl-pds">'</span></span>]</pre></div>
<div class="highlight highlight-source-python"><pre>download_images(path<span class="pl-k">/</span><span class="pl-v">file</span>, dest, <span class="pl-v">max_pics</span><span class="pl-k">=</span><span class="pl-c1">200</span>)</pre></div>
<p>Now I go back and I click on <code>'teddys'</code>. And I scroll back down and repeat the same thing. That way, I'm just going backwards and forwards to download each of the classes that I want. Very manual but for me, I'm very iterative and very experimental, that works well for me. If you are better at planning ahead than I am, you can write a proper loop or whatever and do it that way. But when you see my notebooks and see things that are kind of like configuration cells (i.e. doing the same thing in different places), this is a strong sign that I didn't run this in order. I clicked one place, went to another, ran that. For me, I'm experimentalist. I really like to experiment in my notebook, I treat it like a lab journal, I try things out and I see what happens. So this is how my notebooks end up looking.</p>
<p>It's a really controversial topic. For a lot of people, they feel this is "wrong" that you should only ever run things top to bottom. Everything you do should be reproducible. For me, I don't think that's the best way of using human creativity. I think human creativity is best inspired by trying things out and seeing what happens and fiddling around. You can see how you go. See what works for you.</p>
<p>So that will download the images to your server. It's going to use multiple processes to do so. One problem there is if something goes wrong, it's a bit hard to see what went wrong. So you can see in the next section, there's a commented out section that says <code>max_workers=0</code>. That will do it without spinning up a bunch of processes and will tell you the errors better. So if things aren't downloading, try using the second version.</p>
<div class="highlight highlight-source-python"><pre><span class="pl-c"><span class="pl-c">#</span> If you have problems download, try with `max_workers=0` to see exceptions:</span>
<span class="pl-c"><span class="pl-c">#</span> download_images(path/file, dest, max_pics=20, max_workers=0)</span></pre></div>
<h3><a id="user-content-step-3-create-imagedatabunch-2250" class="anchor" aria-hidden="true" href="#step-3-create-imagedatabunch-2250"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 3: Create ImageDataBunch [<a href="https://youtu.be/Egp4Zajhzog?t=1370" rel="nofollow">22:50</a>]</h3>
<p>The next thing that I found I needed to do was to remove the images that aren't actually images at all. This happens all the time. There's always a few images in every batch that are corrupted for whatever reason. Google image told us this URL had an image but it doesn't anymore. So we got this thing in the library called <code>verify_images</code> which will check all of the images in a path and will tell you if there's a problem. If you say <code>delete=True</code>, it will actually delete it for you. So that's a really nice easy way to end up with a clean dataset.</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">for</span> c <span class="pl-k">in</span> classes:
    <span class="pl-c1">print</span>(c)
    verify_images(path<span class="pl-k">/</span>c, <span class="pl-v">delete</span><span class="pl-k">=</span><span class="pl-c1">True</span>, <span class="pl-v">max_workers</span><span class="pl-k">=</span><span class="pl-c1">8</span>)</pre></div>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/12.png"><img src="/hiromis/notes/raw/master/lesson2/12.png" alt="" style="max-width:100%;"></a></p>
<p>So at this point, I now have a bears folder containing a grizzly folder, teddys folder, and black folder. In other words, I have the basic structure we need to create an ImageDataBunch to start doing some deep learning. So let's go ahead and do that.</p>
<p>Now, very often, when you download a dataset from like Kaggle or from some academic dataset, there will often be folders called train, valid, and test containing the different datasets. In this case, we don't have a separate validation set because we just grabbed these images from Google search. But you still need a validation set, otherwise you don't know how well your model is going and we'll talk more about this in a moment.</p>
<p>Whenever you create a data bunch, if you don't have a separate training and validation set, then you can just say the training set is in the current folder (i.e. <code>.</code> because by default, it looks in a folder called <code>train</code>) and I want you to set aside 20% of the data, please. So this is going to create a validation set for you automatically and randomly. You'll see that whenever I create a validation set randomly, I always set my random seed to something fixed beforehand. This means that every time I run this code, I'll get the same validation set.  In general, I'm not a fan of making my machine learning experiments reproducible (i.e. ensuring I get exactly the same results every time). The randomness is to me a really important part of finding out your is solution stable and it is going to work each time you run it. But what is important is that you always have the same validation set. Otherwise when you are trying to decide has this hyper parameter change improved my model but you've got a different set of data you are testing it on, then you don't know maybe that set of data just happens to be a bit easier. So that's why I always set the random seed here.</p>
<div class="highlight highlight-source-python"><pre>np.random.seed(<span class="pl-c1">42</span>)
data <span class="pl-k">=</span> ImageDataBunch.from_folder(path, <span class="pl-v">train</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>.<span class="pl-pds">"</span></span>, <span class="pl-v">valid_pct</span><span class="pl-k">=</span><span class="pl-c1">0.2</span>,
        <span class="pl-v">ds_tfms</span><span class="pl-k">=</span>get_transforms(), <span class="pl-v">size</span><span class="pl-k">=</span><span class="pl-c1">224</span>, <span class="pl-v">num_workers</span><span class="pl-k">=</span><span class="pl-c1">4</span>).normalize(imagenet_stats)</pre></div>
<p>[<a href="https://youtu.be/Egp4Zajhzog?t=1537" rel="nofollow">25:37</a>]</p>
<p>We've now got a data bunch, so you can look inside at the <code>data.classes</code> and you'll see these are the folders that we created. So it knows that the classes (by classes, we mean all the possible labels) are black bear, grizzly bear, or teddy bear.</p>
<div class="highlight highlight-source-python"><pre>data.classes</pre></div>
<pre><code>['black', 'grizzly', 'teddys']
</code></pre>
<p>We can run <code>show_batch</code> and take a little look. And it tells us straight away that some of these are going to be a little bit tricky.  Some of them are not photo, for instance. Some of them are cropped funny, if you ended up with a black bear standing on top of a grizzly bear, that might be tough.</p>
<div class="highlight highlight-source-python"><pre>data.show_batch(<span class="pl-v">rows</span><span class="pl-k">=</span><span class="pl-c1">3</span>, <span class="pl-v">figsize</span><span class="pl-k">=</span>(<span class="pl-c1">7</span>,<span class="pl-c1">8</span>))</pre></div>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/bears.png"><img src="/hiromis/notes/raw/master/lesson2/bears.png" alt="" style="max-width:100%;"></a></p>
<p>You can kind of double check here. Remember, <code>data.c</code> is the attribute which the classifiers tell us how many possible labels there are. We'll learn about some other more specific meanings of <code>c</code> later. We can see how many things are now training set, how many things are in validation set. So we've got 473 training set, 140 validation set.</p>
<div class="highlight highlight-source-python"><pre>data.classes, data.c, <span class="pl-c1">len</span>(data.train_ds), <span class="pl-c1">len</span>(data.valid_ds)</pre></div>
<pre><code>(['black', 'grizzly', 'teddys'], 3, 473, 140)
</code></pre>
<h3><a id="user-content-step-4-training-a-model-2649" class="anchor" aria-hidden="true" href="#step-4-training-a-model-2649"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 4: Training a model [<a href="https://youtu.be/Egp4Zajhzog?t=1609" rel="nofollow">26:49</a>]</h3>
<p>So at that point, we can go ahead and create our convolutional neural network using that data. I tend to default to using a resnet34, and let's print out the error rate each time.</p>
<div class="highlight highlight-source-python"><pre>learn <span class="pl-k">=</span> create_cnn(data, models.resnet34, <span class="pl-v">metrics</span><span class="pl-k">=</span>error_rate)</pre></div>
<p>Then run <code>fit_one_cycle</code> 4 times and see how we go. And we have a 2% error rate. So that's pretty good. Sometimes it's easy for me to recognize a black bear from a grizzly bear, but sometimes it's a bit tricky. This one seems to be doing pretty well.</p>
<div class="highlight highlight-source-python"><pre>learn.fit_one_cycle(<span class="pl-c1">4</span>)</pre></div>
<pre><code>Total time: 00:54
epoch  train_loss  valid_loss  error_rate
1      0.710584    0.087024    0.021277    (00:14)
2      0.414239    0.045413    0.014184    (00:13)
3      0.306174    0.035602    0.014184    (00:13)
4      0.239355    0.035230    0.021277    (00:13)
</code></pre>
<p>After I make some progress with my model and things are looking good, I always like to save where I am up to to save me the 54 seconds of going back and doing it again.</p>
<div class="highlight highlight-source-python"><pre>learn.save(<span class="pl-s"><span class="pl-pds">'</span>stage-1<span class="pl-pds">'</span></span>)</pre></div>
<p>As per usual, we unfreeze the rest of our model. We are going to be learning more about what that means during the course.</p>
<div class="highlight highlight-source-python"><pre>learn.unfreeze()</pre></div>
<p>Then we run the learning rate finder and plot it (it tells you exactly what to type). And we take a look.</p>
<div class="highlight highlight-source-python"><pre>learn.lr_find()</pre></div>
<pre><code>LR Finder complete, type {learner_name}.recorder.plot() to see the graph.
</code></pre>
<p>We are going to be learning about learning rates today, but for now, here's what you need to know. On the learning rate finder, what you are looking for is the strongest downward slope that's kind of sticking around for quite a while. It's something you are going to have to practice with and get a feel forÔπ£which bit works. So if you are not sure which, try both learning rates and see which one works better. I've been doing this for a while and I'm pretty sure this (between 10^-5 and 10^-3) looks like where it's really learning properly, so I will probably pick something back here for my learning rate [<a href="https://youtu.be/Egp4Zajhzog?t=1708" rel="nofollow">28:28</a>].</p>
<div class="highlight highlight-source-python"><pre>learn.recorder.plot()</pre></div>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/13.png"><img src="/hiromis/notes/raw/master/lesson2/13.png" alt="" style="max-width:100%;"></a></p>
<p>So you can see, I picked <code>3e-5</code> for my bottom learning rate. For my top learning rate, I normally pick 1e-4 or 3e-4, it's kind of like I don't really think about it too much. That's a rule of thumbÔπ£it always works pretty well. One of the things you'll realize is that most of these parameters don't actually matter that much in detail. If you just copy the numbers that I use each time, the vast majority of the time, it'll just work fine. And we'll see places where it doesn't today.</p>
<div class="highlight highlight-source-python"><pre>learn.fit_one_cycle(<span class="pl-c1">2</span>, <span class="pl-v">max_lr</span><span class="pl-k">=</span><span class="pl-c1">slice</span>(<span class="pl-c1">3e-5</span>,<span class="pl-c1">3e-4</span>))</pre></div>
<pre><code>Total time: 00:28
epoch  train_loss  valid_loss  error_rate
1      0.107059    0.056375    0.028369    (00:14)
2      0.070725    0.041957    0.014184    (00:13)
</code></pre>
<p>So we've got 1.4% error rate after doing another couple of epochs, so that's looking great. So we've downloaded some images from Google image search, created a classifier, and we've got 1.4% error rate, let's save it.</p>
<div class="highlight highlight-source-python"><pre>learn.save(<span class="pl-s"><span class="pl-pds">'</span>stage-2<span class="pl-pds">'</span></span>)</pre></div>
<h3><a id="user-content-interpretation-2938" class="anchor" aria-hidden="true" href="#interpretation-2938"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Interpretation [<a href="https://youtu.be/Egp4Zajhzog?t=1778" rel="nofollow">29:38</a>]</h3>
<p>As per usual, we can use the ClassificationInterpretation class to have a look at what's going on.</p>
<div class="highlight highlight-source-python"><pre>learn.load(<span class="pl-s"><span class="pl-pds">'</span>stage-2<span class="pl-pds">'</span></span>)</pre></div>
<div class="highlight highlight-source-python"><pre>interp <span class="pl-k">=</span> ClassificationInterpretation.from_learner(learn)</pre></div>
<div class="highlight highlight-source-python"><pre>interp.plot_confusion_matrix()</pre></div>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/14.png"><img src="/hiromis/notes/raw/master/lesson2/14.png" alt="" style="max-width:100%;"></a></p>
<p>In this case, we made one mistake. There was one black bear classified as grizzly bear. So that's a really good step. We've come a long way. But possibly you could do even better if your dataset was less noisy. Maybe Google image search didn't give you exactly the right images all the time. So how do we fix that? We want to clean it up. So combining human expert with a computer learner is a really good idea. Very very few people publish on this or teach this, but to me, it's the most useful skill, particularly for you. Most of the people watching this are domain experts, not computer science experts, so this is where you can use your knowledge of point mutations in genomics or Panamanian buses or whatever. So let's see how that would work. What I'm going to do is, do you remember the plot top losses from last time where we saw the images which it was either the most wrong about or the least confident about. We are going to look at those and decide which of those are noisy. If you think about it, it's very unlikely that if there is a mislabeled data that it's going to be predicted correctly and with high confidence. That's really unlikely to happen. So we're going to focus on the ones which the model is saying either it's not confident of or it was confident of and it was wrong about. They are the things which might be mislabeled.</p>
<p>A big shout-out to the San Francisco fastai study group who created this new widget this week called the FileDeleter. Zach, Jason, and Francisco built this thing where we basically can take the top losses from that interpretation object we just created. There is not just <code>plot_top-losses</code> but there's also <code>top_losses</code> and top_losses returns two things: the losses of the things that were the worst and the indexes into the dataset of the things that were the worst. If you don't pass anything at all, it's going to actually return the entire dataset, but sorted so the first things will be the highest losses. Every dataset in fastai has <code>x</code> and <code>y</code> and the <code>x</code> contains the things that are used to, in this case, get the images. So this is the image file names and the <code>y</code>'s will be the labels. So if we grab the indexes and pass them into the dataset's <code>x</code>, this is going to give us the file names of the dataset ordered by which ones had the highest loss (i.e. which ones it was either confident and wrong about or not confident about). So we can pass that to this new widget that they've created.</p>
<p>Just to clarify, this <code>top_loss_paths</code> contains all of the file names in our dataset. When I say "out dataset", this particular one is our validation dataset. So what this is going to do is it's going to clean up mislabeled images or images that shouldn't be there and we're going to remove them from a validation set so that our metrics will be more correct. You then need to rerun these two steps replacing <code>valid_ds</code> with <code>train_ds</code> to clean up your training set to get the noise out of that as well. So it's a good practice to do both. We'll talk about test sets later as well, if you also have a test set, you would then repeat the same thing.</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">from</span> fastai.widgets <span class="pl-k">import</span> <span class="pl-k">*</span>

losses,idxs <span class="pl-k">=</span> interp.top_losses()
top_loss_paths <span class="pl-k">=</span> data.valid_ds.x[idxs]</pre></div>
<div class="highlight highlight-source-python"><pre>fd <span class="pl-k">=</span> FileDeleter(<span class="pl-v">file_paths</span><span class="pl-k">=</span>top_loss_paths)</pre></div>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/16.png"><img src="/hiromis/notes/raw/master/lesson2/16.png" alt="" style="max-width:100%;"></a></p>
<p>So we run FileDeleter passing in that sorted list of paths and so what pops up is basically the same thing as <code>plot_top_losses</code>. In other words, these are the ones which is either wrong about or least confident about. So not surprisingly, this one her (the second from left) does not appear to be a teddy bear, black bear, or grizzly bear. So this shouldn't be in our dataset. So what I do is I wack on the delete button, all the rest do look indeed like bears, so I can click confirm and it'll bring up another five.</p>
<p>What I tend to do when I do this is I'll keep going confirm until I get to a coupe of screen full of the things that all look okay and that suggests to me that I've got past the worst bits of the data. So that's it so now you can go back for the training set as well and retrain your model.</p>
<p>I'll just note here that what our San Francisco study group did here was that they actually built a little app inside Jupyter notebook which you might not have realized as possible. But not only is it possible, it's actually surprisingly straightforward. Just like everything else, you can hit double question mark to find out their secrets. So here is the source code.</p>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/17.png"><img src="/hiromis/notes/raw/master/lesson2/17.png" alt="" style="max-width:100%;"></a></p>
<p>Really, if you've done any GUI programming before, it'll look incredibly normal. There's basically call backs for what happens when you click on a button where you just do standard Python things and to actually render it, you just use widgets and you can lay it out using standard boxes. So this idea of creating applications inside notebooks is really underused but it's super neat because it lets you create tools for your fellow practitioners or experimenters. And you could definitely envisage taking this a lot further. In fact, by the time you're watching this on the MOOC, you will probably find that there's a whole a lot more buttons here because we've already got a long list of to-do that we're going to add to this particular thing.</p>
<p>I'd love for you to have a think about, now that you know it's possible to write applications in your notebook, what are you going to write and if you google for "<a href="https://ipywidgets.readthedocs.io/en/stable/" rel="nofollow">ipywidgets</a>", you can learn about the little GUI framework to find out what kind of widgets you can create, what they look like, and how they work, and so forth. You'll find it's actually a pretty complete GUI programming environment you can play with. And this will all work nice with your models. It's not a great way to productionize an application because it is sitting inside a notebook. This is really for things which are going to help other practitioners or experimentalists. For productionizing things, you need to actually build a production web app which we will look at next.</p>
<h3><a id="user-content-putting-your-model-in-production-3736" class="anchor" aria-hidden="true" href="#putting-your-model-in-production-3736"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Putting your model in production [<a href="https://youtu.be/Egp4Zajhzog?t=2256" rel="nofollow">37:36</a>]</h3>
<p>After you have cleaned up your noisy images, you can then retrain your model and hopefully you'll find it's a little bit more accurate. One thing you might be interested to discover when you do this is it actually doesn't matter most of the time very much. On the whole, these models are pretty good at dealing with moderate amounts of noisy data. The problem would occur is if your data was not randomly noisy but biased noisy. So I guess the main thing I'm saying is if you go through this process of cleaning up your data and then rerun your model and find it's .001% better, that's normal. It's fine. But it's still a good idea just to make sure that you don't have too much noise in your data in case it is biased.</p>
<p>At this point, we're ready to put our model in production and this is where I hear a lot of people ask me about which mega Google Facebook highly distributed serving system they should use and how do they use a thousand GPUs at the same time. For the vast majority of things you all do, you will want to actually run in production on a CPU, not a GPU. Why is that? Because GPU is good at doing lots of things at the same time, but unless you have a very busy website, it's pretty unlikely that you're going to have 64 images to classify at the same time to put into a batch into a GPU. And if you did, you've got to deal with all that queuing and running it all together, all of your users have to wait until that batch has got filled up and runÔπ£it's whole a lot of hassle. Then if you want to scale that, there's another whole lot of hassle. It's much easier if you just wrap one thing, throw it at a CPU to get it done, and comes back again. Yes, it's going to take maybe 10 or 20 times longer so maybe it'll take 0.2 seconds rather than 0.01 seconds. That's about the kind of times we are talking about. But it's so easy to scale. You can chuck it on any standard serving infrastructure. It's going to be cheap, and you can horizontally scale it really easily.  So most people I know who are running apps that aren't at Google scale, based on deep learning are using CPUs. And the term we use is "inference". When you are not training a model but you've got a trained model and you're getting it to predict things, we call that inference. That's why we say here:</p>
<blockquote>
<p>You probably want to use CPU for inference</p>
</blockquote>
<p>At inference time, you've got your pre-trained model, you saved those weights, and how are you going to use them to create something like Simon Willison's cougar detector?</p>
<p>The first thing you're going to need to know is what were the classes that you trained with. You need to know not just what are they but what were the order. So you will actually need to serialize that or just type them in, or in some way make sure you've got exactly the same classes that you trained with.</p>
<div class="highlight highlight-source-python"><pre>data.classes</pre></div>
<pre><code>['black', 'grizzly', 'teddys']
</code></pre>
<p>If you don't have a GPU on your server, it will use the CPU automatically. If you have a GPU machine and you want to test using a CPU, you can just uncomment this line and that tells fastai that you want to use CPU by passing it back to PyTorch.</p>
<div class="highlight highlight-source-python"><pre><span class="pl-c"><span class="pl-c">#</span> fastai.defaults.device = torch.device('cpu')</span></pre></div>
<p>[<a href="https://youtu.be/Egp4Zajhzog?t=2474" rel="nofollow">41:14</a>]</p>
<p>So here is an example. We don't have a cougar detector, we have a teddy bear detector. And my daughter Claire is about to decide whether to cuddle this friend. What she does is she takes daddy's deep learning model and she gets a picture of this and here is a picture that she's uploaded to the web app and here is a picture of the potentially cuddlesome object. We are going to store that in a variable called <code>img</code> , and open_image is how you open an image in fastai, funnily enough.</p>
<div class="highlight highlight-source-python"><pre>img <span class="pl-k">=</span> open_image(path<span class="pl-k">/</span><span class="pl-s"><span class="pl-pds">'</span>black<span class="pl-pds">'</span></span><span class="pl-k">/</span><span class="pl-s"><span class="pl-pds">'</span>00000021.jpg<span class="pl-pds">'</span></span>)
img</pre></div>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/bear.png"><img src="/hiromis/notes/raw/master/lesson2/bear.png" alt="" style="max-width:100%;"></a></p>
<p>Here is that list of classes that we saved earlier. And as per usual, we created a data bunch, but this time, we're not going to create a data bunch from a folder full of images, we're going to create a special kind of data bunch which is one that's going to grab one single image at a time. So we're not actually passing it any data. The only reason we pass it a path is so that it knows where to load our model from. That's just the path that's the folder that the model is going to be in.</p>
<p>But what we need to do is that we need to pass it the same information that we trained with. So the same transforms, the same size, the same normalization. This is all stuff we'll learn more about. But just make sure it's the same stuff that you used before.</p>
<p>Now you've got a data bunch that actually doesn't have any data in it at all. It's just something that knows how to transform a new image in the same way that you trained with so that you can now do inference.</p>
<p>You can now <code>create_cnn</code> with this kind of fake data bunch and again, you would use exactly the same model that you trained with. You can now load in those saved weights. So this is the stuff that you only do onceÔπ£just once when your web app is starting up. And it takes 0.1 of a second to run this code.</p>
<div class="highlight highlight-source-python"><pre>classes <span class="pl-k">=</span> [<span class="pl-s"><span class="pl-pds">'</span>black<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>grizzly<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>teddys<span class="pl-pds">'</span></span>]
data2 <span class="pl-k">=</span> ImageDataBunch.single_from_classes(path, classes, <span class="pl-v">tfms</span><span class="pl-k">=</span>get_transforms(), <span class="pl-v">size</span><span class="pl-k">=</span><span class="pl-c1">224</span>).normalize(imagenet_stats)
learn <span class="pl-k">=</span> create_cnn(data2, models.resnet34)
learn.load(<span class="pl-s"><span class="pl-pds">'</span>stage-2<span class="pl-pds">'</span></span>)</pre></div>
<p>Then you just go <code>learn.predict(img)</code> and it's lucky we did that because it's not a teddy bear. This is actually a black bear. So thankfully due to this excellent deep learning model, my daughter will avoid having a very embarrassing black bear cuddle incident.</p>
<div class="highlight highlight-source-python"><pre>pred_class,pred_idx,outputs <span class="pl-k">=</span> learn.predict(img)
pred_class</pre></div>
<pre><code>'black'
</code></pre>
<p>So what does this look like in production? I took <a href="https://github.com/simonw/cougar-or-not">Simon Willison's code</a>, shamelessly stole it, made it probably a little bit worse, but basically it's going to look something like this. Simon used a really cool web app toolkit called <a href="https://www.starlette.io/" rel="nofollow">Starlette</a>. If you've ever used Flask, this will look extremely similar but it's kind of a more modern approachÔπ£by modern what I really mean is that you can use <code>await</code> which is basically means that you can wait for something that takes a while, such as grabbing some data, without using up a process. So for things like I want to get a prediction or I want to load up some data, it's really great to be able to use this modern Python 3 asynchronous stuff. So Starlette could come highly recommended for creating your web app.</p>
<p>You just create a route as per usual, in that you say this is <code>async</code> to ensure it doesn't steal the process while it's waiting for things.</p>
<p>You open your image you call <code>learner.predict</code>  and you return that response. Then you can use Javascript client or whatever to show it. That's it. That's basically the main contents of your web app.</p>
<div class="highlight highlight-source-python"><pre><span class="pl-en">@app.route</span>(<span class="pl-s"><span class="pl-pds">"</span>/classify-url<span class="pl-pds">"</span></span>, <span class="pl-v">methods</span><span class="pl-k">=</span>[<span class="pl-s"><span class="pl-pds">"</span>GET<span class="pl-pds">"</span></span>])
<span class="pl-k">async</span> <span class="pl-k">def</span> <span class="pl-en">classify_url</span>(<span class="pl-smi">request</span>):
    <span class="pl-c1">bytes</span> <span class="pl-k">=</span> <span class="pl-k">await</span> get_bytes(request.query_params[<span class="pl-s"><span class="pl-pds">"</span>url<span class="pl-pds">"</span></span>])
    img <span class="pl-k">=</span> open_image(BytesIO(<span class="pl-c1">bytes</span>))
    _,_,losses <span class="pl-k">=</span> learner.predict(img)
    <span class="pl-k">return</span> JSONResponse({
        <span class="pl-s"><span class="pl-pds">"</span>predictions<span class="pl-pds">"</span></span>: <span class="pl-c1">sorted</span>(
            <span class="pl-c1">zip</span>(cat_learner.data.classes, <span class="pl-c1">map</span>(<span class="pl-c1">float</span>, losses)),
            <span class="pl-v">key</span><span class="pl-k">=</span><span class="pl-k">lambda</span> <span class="pl-smi">p</span>: p[<span class="pl-c1">1</span>],
            <span class="pl-v">reverse</span><span class="pl-k">=</span><span class="pl-c1">True</span>
        )
    })</pre></div>
<p>So give it a go this week. Even if you've never created a web application before, there's a lot of nice little tutorials online and kind of starter code, if in doubt, why don't you try Starlette. There's a free hosting that you can use, there's one called <a href="https://www.pythonanywhere.com/" rel="nofollow">PythonAnywhere</a>, for example. The one Simon has used, <a href="https://zeit.co/now" rel="nofollow">Zeit Now</a>, it's something you can basically package it up as a docker thing and shoot it off and it'll serve it up for you. So it doesn't even need to cost you any money and all these classifiers that you're creating, you can turn them into web application. I'll be really interested to see what you're able to make of that. That'll be really fun.</p>
<p><a href="https://course-v3.fast.ai/deployment_zeit.html" rel="nofollow">https://course-v3.fast.ai/deployment_zeit.html</a></p>
<h3><a id="user-content-things-that-can-go-wrong-4606" class="anchor" aria-hidden="true" href="#things-that-can-go-wrong-4606"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Things that can go wrong [<a href="https://youtu.be/Egp4Zajhzog?t=2766" rel="nofollow">46:06</a>]</h3>
<p>I mentioned that most of the time, the kind of rules of thumb I've shown you will probably work. And if you look at the share your work thread, you'll find most of the time, people are posting things saying I downloaded these images, I tried this thing, they worked much better than I expected, well that's cool. Then like 1 out of 20 says I had a problem. So let's have a talk about what happens when you have a problem. This is where we start getting into a little bit of theory because in order to understand why we have these problems and how we fix them, it really helps to know a little bit about what's going on.</p>
<p>First of all, let's look at examples of some problems. The problems basically will be either:</p>
<ul>
<li>Your learning rate is too high or low</li>
<li>Your number of epochs is too high or low</li>
</ul>
<p>So we are going to learn about what those mean and why they matter. But first of all, because we are experimentalists, let's try them.</p>
<h4><a id="user-content-learning-rate-lr-too-high" class="anchor" aria-hidden="true" href="#learning-rate-lr-too-high"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Learning rate (LR) too high</h4>
<p>So let's grow with our teddy bear detector and let's make our learning rate really high. The default learning rate is 0.003 that works most of the time. So what if we try a learning rate of 0.5. That's huge. What happens? Our validation loss gets pretty darn high. Remember, this is something that's normally something underneath 1. So if you see your validation loss do that, before we even learn what validation loss is, just know this, if it does that, your learning rate is too high. That's all you need to know. Make it lower. Doesn't matter how many epochs you do. If this happens, there's no way to undo this. You have to go back and create your neural net again and fit from scratch with a lower learning rate.</p>
<div class="highlight highlight-source-python"><pre>learn <span class="pl-k">=</span> create_cnn(data, models.resnet34, <span class="pl-v">metrics</span><span class="pl-k">=</span>error_rate)</pre></div>
<div class="highlight highlight-source-python"><pre>learn.fit_one_cycle(<span class="pl-c1">1</span>, <span class="pl-v">max_lr</span><span class="pl-k">=</span><span class="pl-c1">0.5</span>)</pre></div>
<pre><code>Total time: 00:13
epoch  train_loss  valid_loss  error_rate       
1      12.220007   1144188288.000000  0.765957    (00:13)
</code></pre>
<h4><a id="user-content-learning-rate-lr-too-low-4802" class="anchor" aria-hidden="true" href="#learning-rate-lr-too-low-4802"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Learning rate (LR) too low [<a href="https://youtu.be/Egp4Zajhzog?t=2882" rel="nofollow">48:02</a>]</h4>
<p>What if we used a learning rate not of 0.003 but 1e-5 (0.00001)?</p>
<div class="highlight highlight-source-python"><pre>learn <span class="pl-k">=</span> create_cnn(data, models.resnet34, <span class="pl-v">metrics</span><span class="pl-k">=</span>error_rate)</pre></div>
<p>This is just copied and pasted what happened when we trained before with a default learning rate:</p>
<pre><code>Total time: 00:57
epoch  train_loss  valid_loss  error_rate
1      1.030236    0.179226    0.028369    (00:14)
2      0.561508    0.055464    0.014184    (00:13)
3      0.396103    0.053801    0.014184    (00:13)
4      0.316883    0.050197    0.021277    (00:15)
</code></pre>
<p>And within one epoch, we were down to a 2 or 3% error rate.</p>
<p>With this really low learning rate, our error rate does get better but very very slowly.</p>
<div class="highlight highlight-source-python"><pre>learn.fit_one_cycle(<span class="pl-c1">5</span>, <span class="pl-v">max_lr</span><span class="pl-k">=</span><span class="pl-c1">1e-5</span>)</pre></div>
<pre><code>Total time: 01:07
epoch  train_loss  valid_loss  error_rate
1      1.349151    1.062807    0.609929    (00:13)
2      1.373262    1.045115    0.546099    (00:13)
3      1.346169    1.006288    0.468085    (00:13)
4      1.334486    0.978713    0.453901    (00:13)
5      1.320978    0.978108    0.446809    (00:13)
</code></pre>
<p>And you can plot it. So <code>learn.recorder</code>  is an object which is going to keep track of lots of things happening while you train. You can call <code>plot_losses</code> to plot out the validation and training loss. And you can just see them gradually going down so slow. If you see that happening, then you have a learning rate which is too small. So bump it by 10 or bump it up by 100 and try again. The other thing you see if your learning rate is too small is that your training loss will be higher than your validation loss. You never want a model where your training loss is higher than your validation loss. That always means you haven't fitted enough which means either your learning rate is too low or your number of epochs is too low. So if you have a model like that, train it some more or train it with a higher learning rate.</p>
<div class="highlight highlight-source-python"><pre>learn.recorder.plot_losses()</pre></div>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/15.png"><img src="/hiromis/notes/raw/master/lesson2/15.png" alt="" style="max-width:100%;"></a></p>
<p>As well as taking a really long time, it's getting too many looks at each image, so may overfit.</p>
<h4><a id="user-content-too-few-epochs-4942" class="anchor" aria-hidden="true" href="#too-few-epochs-4942"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Too few epochs [<a href="https://youtu.be/Egp4Zajhzog?t=2982" rel="nofollow">49:42</a>]</h4>
<p>What if we train for just one epoch? Our error rate is certainly better than random, 5%. But look at this, the difference between training loss and validation loss Ôπ£ a training loss is much higher than the validation loss. So too few epochs and too lower learning rate look very similar. So you can just try running more epochs and if it's taking forever, you can try a higher learning rate. If you try a higher learning rate and the loss goes off to 100,000 million, then put it back to where it was and try a few more epochs. That's the balance. That's all you care about 99% of the time. And this is only the 1 in 20 times that the defaults don't work for you.</p>
<div class="highlight highlight-source-python"><pre>learn <span class="pl-k">=</span> create_cnn(data, models.resnet34, <span class="pl-v">metrics</span><span class="pl-k">=</span>error_rate, <span class="pl-v">pretrained</span><span class="pl-k">=</span><span class="pl-c1">False</span>)</pre></div>
<div class="highlight highlight-source-python"><pre>learn.fit_one_cycle(<span class="pl-c1">1</span>)</pre></div>
<pre><code>Total time: 00:14
epoch  train_loss  valid_loss  error_rate
1      0.602823    0.119616    0.049645    (00:14)
</code></pre>
<h4><a id="user-content-too-many-epochs-5030" class="anchor" aria-hidden="true" href="#too-many-epochs-5030"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Too many epochs [<a href="https://youtu.be/Egp4Zajhzog?t=3030" rel="nofollow">50:30</a>]</h4>
<p>Too many epochs create something called "overfitting". If you train for too long as we're going to learn about it, it will learn to recognize your particular teddy bears but not teddy bears in general. Here is the thing. Despite what you may have heard, it's very hard to overfit with deep learning. So we were trying today to show you an example of overfitting and I turned off everything. I turned off all the data augmentation, dropout, and weight decay. I tried to make it overfit as much as I can. I trained it on a small-ish learning rate, I trained it for a really long time. And maybe I started to get it to overfit. Maybe.</p>
<p>So the only thing that tells you that you're overfitting is that the error rate improves for a while and then starts getting worse again. You will see a lot of people, even people that claim to understand machine learning, tell you that if your training loss is lower than your validation loss, then you are overfitting. As you will learn today in more detail and during the rest of course, that is <strong>absolutely not true</strong>.</p>
<blockquote>
<p>Any model that is trained correctly will always have a lower training loss than validation loss.</p>
</blockquote>
<p>That is not a sign of overfitting. That is not a sign you've done something wrong. That is a sign you have done something right. The sign that you're overfitting is that your error starts getting worse, because that's what you care about. You want your model to have a low error. So as long as you're training and your model error is improving, you're not overfitting. How could you be?</p>
<div class="highlight highlight-source-python"><pre>np.random.seed(<span class="pl-c1">42</span>)
data <span class="pl-k">=</span> ImageDataBunch.from_folder(path, <span class="pl-v">train</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>.<span class="pl-pds">"</span></span>, <span class="pl-v">valid_pct</span><span class="pl-k">=</span><span class="pl-c1">0.9</span>, <span class="pl-v">bs</span><span class="pl-k">=</span><span class="pl-c1">32</span>, 
        <span class="pl-v">ds_tfms</span><span class="pl-k">=</span>get_transforms(<span class="pl-v">do_flip</span><span class="pl-k">=</span><span class="pl-c1">False</span>, <span class="pl-v">max_rotate</span><span class="pl-k">=</span><span class="pl-c1">0</span>, <span class="pl-v">max_zoom</span><span class="pl-k">=</span><span class="pl-c1">1</span>, <span class="pl-v">max_lighting</span><span class="pl-k">=</span><span class="pl-c1">0</span>, <span class="pl-v">max_warp</span><span class="pl-k">=</span><span class="pl-c1">0</span>
                              ),<span class="pl-v">size</span><span class="pl-k">=</span><span class="pl-c1">224</span>, <span class="pl-v">num_workers</span><span class="pl-k">=</span><span class="pl-c1">4</span>).normalize(imagenet_stats)</pre></div>
<div class="highlight highlight-source-python"><pre>learn <span class="pl-k">=</span> create_cnn(data, models.resnet50, <span class="pl-v">metrics</span><span class="pl-k">=</span>error_rate, <span class="pl-v">ps</span><span class="pl-k">=</span><span class="pl-c1">0</span>, <span class="pl-v">wd</span><span class="pl-k">=</span><span class="pl-c1">0</span>)
learn.unfreeze()</pre></div>
<div class="highlight highlight-source-python"><pre>learn.fit_one_cycle(<span class="pl-c1">40</span>, <span class="pl-c1">slice</span>(<span class="pl-c1">1e-6</span>,<span class="pl-c1">1e-4</span>))</pre></div>
<pre><code>Total time: 06:39
epoch  train_loss  valid_loss  error_rate
1      1.513021    1.041628    0.507326    (00:13)
2      1.290093    0.994758    0.443223    (00:09)
3      1.185764    0.936145    0.410256    (00:09)
4      1.117229    0.838402    0.322344    (00:09)
5      1.022635    0.734872    0.252747    (00:09)
6      0.951374    0.627288    0.192308    (00:10)
7      0.916111    0.558621    0.184982    (00:09)
8      0.839068    0.503755    0.177656    (00:09)
9      0.749610    0.433475    0.144689    (00:09)
10     0.678583    0.367560    0.124542    (00:09)
11     0.615280    0.327029    0.100733    (00:10)
12     0.558776    0.298989    0.095238    (00:09)
13     0.518109    0.266998    0.084249    (00:09)
14     0.476290    0.257858    0.084249    (00:09)
15     0.436865    0.227299    0.067766    (00:09)
16     0.457189    0.236593    0.078755    (00:10)
17     0.420905    0.240185    0.080586    (00:10)
18     0.395686    0.255465    0.082418    (00:09)
19     0.373232    0.263469    0.080586    (00:09)
20     0.348988    0.258300    0.080586    (00:10)
21     0.324616    0.261346    0.080586    (00:09)
22     0.311310    0.236431    0.071429    (00:09)
23     0.328342    0.245841    0.069597    (00:10)
24     0.306411    0.235111    0.064103    (00:10)
25     0.289134    0.227465    0.069597    (00:09)
26     0.284814    0.226022    0.064103    (00:09)
27     0.268398    0.222791    0.067766    (00:09)
28     0.255431    0.227751    0.073260    (00:10)
29     0.240742    0.235949    0.071429    (00:09)
30     0.227140    0.225221    0.075092    (00:09)
31     0.213877    0.214789    0.069597    (00:09)
32     0.201631    0.209382    0.062271    (00:10)
33     0.189988    0.210684    0.065934    (00:09)
34     0.181293    0.214666    0.073260    (00:09)
35     0.184095    0.222575    0.073260    (00:09)
36     0.194615    0.229198    0.076923    (00:10)
37     0.186165    0.218206    0.075092    (00:09)
38     0.176623    0.207198    0.062271    (00:10)
39     0.166854    0.207256    0.065934    (00:10)
40     0.162692    0.206044    0.062271    (00:09)
</code></pre>
<p>[<a href="https://youtu.be/Egp4Zajhzog?t=3143" rel="nofollow">52:23</a>]</p>
<p>So they are the main four things that can go wrong. There are some other details that we will learn about during the rest of this course but honestly if you stopped listening now (please don't, that would be embarrassing) and you're just like okay I'm going to go and download images, I'm going to create CNNs with resnet32 or resnet50, I'm going to make sure that my learning rate and number of epochs is okay and then I'm going to chuck them up in a Starlette web API, most of the time you are done. At least for computer vision. Hopefully you will stick around because you want to learn about NLP, collaborative filtering, tabular data, and segmentation, etc as well.</p>
<p>[<a href="https://youtu.be/Egp4Zajhzog?t=3190" rel="nofollow">53:10</a>]</p>
<p>Let's now understand what's actually going on. What does "loss" mean? What does "epoch" mean? What does "learning rate" mean? Because for you to really understand these ideas, you need to know what's going on. So we are going to go all the way to the other side. Rather than creating a state of the art cougar detector, we're going to go back and create the simplest possible linear model. So we're going to actually seeing a little bit of math. But don't be turned off. It's okay. We're going to do a little bit of math but it's going to be totally fine. Even if math is not your thing. Because the first thing we're going to realize is that when we see a picture like this number eight:</p>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/18.png"><img src="/hiromis/notes/raw/master/lesson2/18.png" alt="" style="max-width:100%;"></a></p>
<p>It's actually just a bunch of numbers. For this grayscale one, it's a matrix of numbers. If it was a color image, it would have a third dimension. So when you add an extra dimension, we call it a tensor rather than a matrix. It would be a 3D tensor of numbers Ôπ£ red, green, and blue.</p>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/19.png"><img src="/hiromis/notes/raw/master/lesson2/19.png" alt="" style="max-width:100%;"></a></p>
<p>So when we created that teddy bear detector, what we actually did was we created a mathematical function that took the numbers from the images of the teddy bears and a mathematical function converted those numbers into, in our case, three numbers: a number for the probability that it's a teddy, a probability that it's a grizzly, and the probability that it's a black bear. In this case, there's some hypothetical function that's taking the pixel representing a handwritten digit and returning ten numbers: the probability for each possible outcome (i.e. the numbers from zero to nine).</p>
<p>So what you'll often see in our code and other deep learning code is that you'll find this bunch of probabilities and then you'll find a function called max or argmax attached to it. What that function is doing is, it's saying find the highest number (i.e. probability) and tell me what the index is.  So <code>np.argmax</code> or <code>torch.argmax</code> of the above array would return the index 8.</p>
<p>In fact, let's try it. We know that the function to predict something is called <code>learn.predict</code>. So we can chuck two question marks before or after it to get the source code.</p>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/20.png"><img src="/hiromis/notes/raw/master/lesson2/20.png" alt="" style="max-width:100%;"></a></p>
<p>And here it is. <code>pred_max = res.argmax()</code>. Then what is the class? We just pass that into the classes array. So you should find that the source code in the fastai library can both strengthen your understanding of the concepts and make sure that you know what's going on and really help you here.</p>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/21.png"><img src="/hiromis/notes/raw/master/lesson2/21.png" alt="" style="max-width:100%;"></a></p>
<p><strong>Question</strong>:  Can we have a definition of the error rate being discussed and how it is calculated? I assume it's cross validation error [<a href="https://youtu.be/Egp4Zajhzog?t=3398" rel="nofollow">56:38</a>].</p>
<p>Sure. So one way to answer the question of how is error rate calculated would be to type <code>error_rate??</code> and look at the source code, and it's 1 - accuracy.</p>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/22.png"><img src="/hiromis/notes/raw/master/lesson2/22.png" alt="" style="max-width:100%;"></a></p>
<p>So then a question might be what is accuracy:</p>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/23.png"><img src="/hiromis/notes/raw/master/lesson2/23.png" alt="" style="max-width:100%;"></a></p>
<p>It is argmax. So we now know that means find out which particular thing it is, and then look at how often that equals the target (i.e. the actual value) and take the mean. So that's basically what it is. So then the question is, okay, what does that being applied to and always in fastai, metrics (i.e. the things that we pass in) are always going to be applied to the validation set. Any time you put a metric here, it'll be applied to the validation set because that's your best practice:</p>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/24.png"><img src="/hiromis/notes/raw/master/lesson2/24.png" alt="" style="max-width:100%;"></a></p>
<p>That's what you always want to do is make sure that you're checking your performance on data that your model hasn't seen, and we'll be learning more about the validation set shortly.</p>
<p>Remember, you can also type <code>doc</code> if the source code is not what you want which might well not be, you actually want the documentation, that will both give you a summary of the types in and out of the function and a link to the full documentation where you can find out all about how metrics work and what other metrics there are and so forth. Generally speaking, you'll also find links to more information where, for example, you will find complete run through and sample code showing you how to use all these things. So don't forget that the <code>doc</code> function is your friend. Also both in the doc function and in documentation, you'll see a source link. This is like <code>??</code> but what the source link does is it takes you into the exact line of code in Github. So you can see exactly how that's implemented and what else is around it. So lots of good stuff there.</p>
<p><strong>Question</strong>: Why were you using <code>3e</code> for your learning rates earlier? With <code>3e-5</code> and <code>3e-4</code> [<a href="https://youtu.be/Egp4Zajhzog?t=3551" rel="nofollow">59:11</a>]?</p>
<p>We found that 3e-3 is just a really good default learning rate. It works most of the time for your initial fine-tuning before you unfreeze. And then, I tend to kind of just multiply from there. So then the next stage, I will pick 10 times lower than that for the second part of the slice, and whatever the LR finder found for the first part of the slice. The second part of the slice doesn't come from the LR finder. It's just a rule of thumb which is 10 times less than your first part which defaults to 3e-3, and then the first part of the slice is what comes out of the LR finder. We'll be learning a lot more about these learning rate details both today and in the coming lessons. But for now, all you need to remember is that your basic approach looks like this:</p>
<ul>
<li><code>learn.fit_one_cycle</code>
<ul>
<li>Some number of epochs, I often pick 4</li>
<li>Some learning rate which defaults to 3e-3. I'll just type it up fully so you can see.</li>
</ul>
</li>
<li>Then we do that for a bit and then we unfreeze it.</li>
<li>Then we learn some more and so this is a bit where I just take whatever I did last time and divide it by 10. Then I also write like that (<code>slice</code>) then I have to put one more number in here and that's the number I get from the learning rate finderÔπ£a bit where it's got the strongest slope.</li>
</ul>
<div class="highlight highlight-source-python"><pre>learn.fit_one_cycle(<span class="pl-c1">4</span>, <span class="pl-c1">3e-3</span>)
learn.unfreeze()
learn.fit_one_cycle(<span class="pl-c1">4</span>, <span class="pl-c1">slice</span>(xxx, <span class="pl-c1">3e-4</span>))</pre></div>
<p>So that's kind of don't have to think about it, don't really have to know what's going on rule of thumb that works most of the time. But let's now dig in and actually understand it more completely.</p>
<h4><a id="user-content-digging-in-and-looking-at-the-math-10117" class="anchor" aria-hidden="true" href="#digging-in-and-looking-at-the-math-10117"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Digging in and looking at the math [<a href="https://youtu.be/Egp4Zajhzog?t=3677" rel="nofollow">1:01:17</a>]</h4>
<p>We're going to create this mathematical function that takes the numbers that represent the pixels and spits out probabilities for each possible class.</p>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/adam.gif"><img src="/hiromis/notes/raw/master/lesson2/adam.gif" alt="" style="max-width:100%;"></a></p>
<p>By the way, a lot of the stuff that we're using here, we are stealing from other people who are awesome and so we're putting their details here. So please check out their work because they've got great work that we are highlighting in our course. I really like this idea of this little animated gif of the numbers, so thank you to  <a href="https://medium.com/@ageitgey/machine-learning-is-fun-part-3-deep-learning-and-convolutional-neural-networks-f40359318721" rel="nofollow">Adam Geitgey</a> for creating that.</p>
<p>[<a href="https://youtu.be/Egp4Zajhzog?t=3725" rel="nofollow">1:02:05</a>]</p>
<p>Let's look and see how we create one of these functions, and let's start with the simplest functions I know:</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/c2f4542eb1d4078a45ef76065cb912b7bb7c4726/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f792673706163653b3d2673706163653b61782673706163653b2b2673706163653b62"><img src="https://camo.githubusercontent.com/c2f4542eb1d4078a45ef76065cb912b7bb7c4726/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f792673706163653b3d2673706163653b61782673706163653b2b2673706163653b62" title="y = ax + b" data-canonical-src="http://latex.codecogs.com/gif.latex?y&amp;space;=&amp;space;ax&amp;space;+&amp;space;b" style="max-width:100%;"></a></p>
<p>That's a line where</p>
<ul>
<li>a: gradient of the line</li>
<li>b: the intercept of the line</li>
</ul>
<p>Hopefully when we said that you need to know high school math to do this course, these are the things we are assuming that you remember. If we do mention some math thing which I am assuming you remember and you don't remember it, don't freak out. It happens to all of us. <a href="https://www.khanacademy.org/" rel="nofollow">Khan Academy</a> is actually terrific. It's not just for school kids. Go to Khan Academy, find the concept you need a refresher on, and he explains things really well. So strongly recommend checking that out. Remember, I'm just a philosophy student, so all the time I'm trying to either remind myself about something or I never learnt something. So we have the whole internet to teach us these things.</p>
<p>I'm going to re-write this slightly:</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/44ec737311966dd1a93e9bb02e8a8fa403287e02/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f792673706163653b3d2673706163653b615f31782673706163653b2b2673706163653b615f32"><img src="https://camo.githubusercontent.com/44ec737311966dd1a93e9bb02e8a8fa403287e02/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f792673706163653b3d2673706163653b615f31782673706163653b2b2673706163653b615f32" title="y = a_1x + a_2" data-canonical-src="http://latex.codecogs.com/gif.latex?y&amp;space;=&amp;space;a_1x&amp;space;+&amp;space;a_2" style="max-width:100%;"></a></p>
<p>So let's just replace <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/5733459b10bf1ea895372662236a3ca8eb43d96c/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f62"><img src="https://camo.githubusercontent.com/5733459b10bf1ea895372662236a3ca8eb43d96c/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f62" title="b" data-canonical-src="http://latex.codecogs.com/gif.latex?b" style="max-width:100%;"></a> with a <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/f2856abff86c5ee5318aadf217629be9f4e0866b/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f32"><img src="https://camo.githubusercontent.com/f2856abff86c5ee5318aadf217629be9f4e0866b/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f32" title="a_2" data-canonical-src="http://latex.codecogs.com/gif.latex?a_2" style="max-width:100%;"></a>_, just give it a different name. So there's another way of saying the same thing. Then another way of saying that would be if I could multiply<a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/f2856abff86c5ee5318aadf217629be9f4e0866b/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f32"><img src="https://camo.githubusercontent.com/f2856abff86c5ee5318aadf217629be9f4e0866b/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f32" title="a_2" data-canonical-src="http://latex.codecogs.com/gif.latex?a_2" style="max-width:100%;"></a> by the number 1.</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/fb5838a59e8c724a614dc5b7286e8da88cdf81e4/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f792673706163653b3d2673706163653b615f31782673706163653b2b2673706163653b615f325c63646f742673706163653b31"><img src="https://camo.githubusercontent.com/fb5838a59e8c724a614dc5b7286e8da88cdf81e4/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f792673706163653b3d2673706163653b615f31782673706163653b2b2673706163653b615f325c63646f742673706163653b31" title="y = a_1x + a_2\cdot 1" data-canonical-src="http://latex.codecogs.com/gif.latex?y&amp;space;=&amp;space;a_1x&amp;space;+&amp;space;a_2\cdot&amp;space;1" style="max-width:100%;"></a></p>
<p>This still is the same thing. Now at this point, I'm actually going to say let's not put the number 1 there, but put an <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/5038fd7af2345e24a5b80af3e38e2df0283dedd0/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f785f31"><img src="https://camo.githubusercontent.com/5038fd7af2345e24a5b80af3e38e2df0283dedd0/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f785f31" title="x_1" data-canonical-src="http://latex.codecogs.com/gif.latex?x_1" style="max-width:100%;"></a> here and <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/620b0dfcb828a5a23478fcdf930bb40aa97d53aa/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f785f32"><img src="https://camo.githubusercontent.com/620b0dfcb828a5a23478fcdf930bb40aa97d53aa/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f785f32" title="x_2" data-canonical-src="http://latex.codecogs.com/gif.latex?x_2" style="max-width:100%;"></a> here:</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/d59fe7cbbaae779dab982cb99727ca04536a7f87/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f792673706163653b3d2673706163653b615f31785f312673706163653b2b2673706163653b615f32785f32"><img src="https://camo.githubusercontent.com/d59fe7cbbaae779dab982cb99727ca04536a7f87/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f792673706163653b3d2673706163653b615f31785f312673706163653b2b2673706163653b615f32785f32" title="y = a_1x_1 + a_2x_2" data-canonical-src="http://latex.codecogs.com/gif.latex?y&amp;space;=&amp;space;a_1x_1&amp;space;+&amp;space;a_2x_2" style="max-width:100%;"></a></p>
<p><a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/d501345a3c6570ab169edf28e3f15d51b219862d/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f785f322673706163653b3d2673706163653b31"><img src="https://camo.githubusercontent.com/d501345a3c6570ab169edf28e3f15d51b219862d/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f785f322673706163653b3d2673706163653b31" title="x_2 = 1" data-canonical-src="http://latex.codecogs.com/gif.latex?x_2&amp;space;=&amp;space;1" style="max-width:100%;"></a></p>
<p>So far, this is pretty early high school math. This is multiplying by 1 which I think we can handle. So this and <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/c2f4542eb1d4078a45ef76065cb912b7bb7c4726/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f792673706163653b3d2673706163653b61782673706163653b2b2673706163653b62"><img src="https://camo.githubusercontent.com/c2f4542eb1d4078a45ef76065cb912b7bb7c4726/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f792673706163653b3d2673706163653b61782673706163653b2b2673706163653b62" title="y = ax + b" data-canonical-src="http://latex.codecogs.com/gif.latex?y&amp;space;=&amp;space;ax&amp;space;+&amp;space;b" style="max-width:100%;"></a> are equivalent with a bit of renaming. Now in machine learning, we don't just have one equation, we've got lots. So if  we've got some data that represents the temperature versus the number of ice creams sold, then we have lots of dots.</p>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/25.png"><img src="/hiromis/notes/raw/master/lesson2/25.png" alt="" style="max-width:100%;"></a></p>
<p>So each one of those dots, we might hypothesize is based on this formula (<a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/d59fe7cbbaae779dab982cb99727ca04536a7f87/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f792673706163653b3d2673706163653b615f31785f312673706163653b2b2673706163653b615f32785f32"><img src="https://camo.githubusercontent.com/d59fe7cbbaae779dab982cb99727ca04536a7f87/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f792673706163653b3d2673706163653b615f31785f312673706163653b2b2673706163653b615f32785f32" title="y = a_1x_1 + a_2x_2" data-canonical-src="http://latex.codecogs.com/gif.latex?y&amp;space;=&amp;space;a_1x_1&amp;space;+&amp;space;a_2x_2" style="max-width:100%;"></a>).  And basically there's lots of values of y and lots of values of x so we can stick little <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/9dd5611dca67b4b062cee03d536a717fa1d51dbf/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f5f69"><img src="https://camo.githubusercontent.com/9dd5611dca67b4b062cee03d536a717fa1d51dbf/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f5f69" title="_i" data-canonical-src="http://latex.codecogs.com/gif.latex?_i" style="max-width:100%;"></a> here:</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/ef3c20d54faaff8bbff95696ebc9b3040839cf3f/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f795f692673706163653b3d2673706163653b61785f692673706163653b2b2673706163653b62"><img src="https://camo.githubusercontent.com/ef3c20d54faaff8bbff95696ebc9b3040839cf3f/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f795f692673706163653b3d2673706163653b61785f692673706163653b2b2673706163653b62" title="y_i = ax_i + b" data-canonical-src="http://latex.codecogs.com/gif.latex?y_i&amp;space;=&amp;space;ax_i&amp;space;+&amp;space;b" style="max-width:100%;"></a></p>
<p>The way we do that is a lot like numpy indexing, but rather things in square brackets, we put them down here in the subscript in our equation:</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/71c6daef1d932ce86ee346c4f7ce39a473f1817d/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f795f692673706163653b3d2673706163653b615f31785f695f2c5f312673706163653b2b2673706163653b615f32785f695f2c5f32"><img src="https://camo.githubusercontent.com/71c6daef1d932ce86ee346c4f7ce39a473f1817d/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f795f692673706163653b3d2673706163653b615f31785f695f2c5f312673706163653b2b2673706163653b615f32785f695f2c5f32" title="y_i = a_1x_i_,_1 + a_2x_i_,_2" data-canonical-src="http://latex.codecogs.com/gif.latex?y_i&amp;space;=&amp;space;a_1x_i_,_1&amp;space;+&amp;space;a_2x_i_,_2" style="max-width:100%;"></a></p>
<p>So this is now saying there's actually lots of these different <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/92f6e340985262f9da5276bff6453fb1910becb8/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f795f69"><img src="https://camo.githubusercontent.com/92f6e340985262f9da5276bff6453fb1910becb8/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f795f69" title="y_i" data-canonical-src="http://latex.codecogs.com/gif.latex?y_i" style="max-width:100%;"></a>'s based on lots of different <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/31987a2cc42ab47a2dabaf0f83f32a9a705e0cdf/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f785f695f2c5f31"><img src="https://camo.githubusercontent.com/31987a2cc42ab47a2dabaf0f83f32a9a705e0cdf/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f785f695f2c5f31" title="x_i_,_1" data-canonical-src="http://latex.codecogs.com/gif.latex?x_i_,_1" style="max-width:100%;"></a> and <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/65c93f917f20b0d3edd647b67ff982dc4d9f0f5e/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f785f695f2c5f32"><img src="https://camo.githubusercontent.com/65c93f917f20b0d3edd647b67ff982dc4d9f0f5e/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f785f695f2c5f32" title="x_i_,_2" data-canonical-src="http://latex.codecogs.com/gif.latex?x_i_,_2" style="max-width:100%;"></a> but notice there is still one of each of these (<a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/51e38957bd4b5f369c08ff95872f720505a4d563/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f31"><img src="https://camo.githubusercontent.com/51e38957bd4b5f369c08ff95872f720505a4d563/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f31" title="a_1" data-canonical-src="http://latex.codecogs.com/gif.latex?a_1" style="max-width:100%;"></a>, <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/f2856abff86c5ee5318aadf217629be9f4e0866b/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f32"><img src="https://camo.githubusercontent.com/f2856abff86c5ee5318aadf217629be9f4e0866b/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f32" title="a_2" data-canonical-src="http://latex.codecogs.com/gif.latex?a_2" style="max-width:100%;"></a>). They called the coefficients or the parameters. So this is our linear equation and we are still going to say that every <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/65c93f917f20b0d3edd647b67ff982dc4d9f0f5e/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f785f695f2c5f32"><img src="https://camo.githubusercontent.com/65c93f917f20b0d3edd647b67ff982dc4d9f0f5e/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f785f695f2c5f32" title="x_i_,_2" data-canonical-src="http://latex.codecogs.com/gif.latex?x_i_,_2" style="max-width:100%;"></a> is equal to 1. Why did I do it that way? Because I want to do linear algebra? Why do I want to do in linear algebra? One reason is because <a href="https://github.com/fastai/numerical-linear-algebra/blob/master/README.md">Rachel teaches the world's best linear algebra course</a>, so if you're interested, check it out. So it's a good opportunity for me to throw in a pitch for this which we make no money but never mind. But more to the point right now, it's going to make life much easier. Because I hate writing loops, I hate writing code, I just want the computer to do everything for me. And anytime you see this little <em>i</em> subscripts, that sounds like you're going to have to do loops and all kind of stuff. But what you might remember from school is that when you've got two things being multiplied together, two things being multiplied together, then they get added up, that's called a "dot product". If you do that for lots and lots of different numbers <em>i</em>, then that's called a matrix product. So in fact, this whole thing can be written like this:</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/3958032df9358d8247ea8a34284ceb49035fbaf2/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f5c7665637b797d2673706163653b3d2673706163653b585c7665637b617d"><img src="https://camo.githubusercontent.com/3958032df9358d8247ea8a34284ceb49035fbaf2/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f5c7665637b797d2673706163653b3d2673706163653b585c7665637b617d" title="\vec{y} = X\vec{a}" data-canonical-src="http://latex.codecogs.com/gif.latex?\vec{y}&amp;space;=&amp;space;X\vec{a}" style="max-width:100%;"></a></p>
<p>Rather than lots of different <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/92f6e340985262f9da5276bff6453fb1910becb8/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f795f69"><img src="https://camo.githubusercontent.com/92f6e340985262f9da5276bff6453fb1910becb8/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f795f69" title="y_i" data-canonical-src="http://latex.codecogs.com/gif.latex?y_i" style="max-width:100%;"></a>'s, we can say there's one vector called <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/55772e890e71496a9c2c39069abf18db34310973/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f79"><img src="https://camo.githubusercontent.com/55772e890e71496a9c2c39069abf18db34310973/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f79" title="y" data-canonical-src="http://latex.codecogs.com/gif.latex?y" style="max-width:100%;"></a> which is equal to one matrix called <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/5240896ab9aaf16aba26cd6d5b9bc7b3054d2eae/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f58"><img src="https://camo.githubusercontent.com/5240896ab9aaf16aba26cd6d5b9bc7b3054d2eae/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f58" title="X" data-canonical-src="http://latex.codecogs.com/gif.latex?X" style="max-width:100%;"></a> times one vector called <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/783c2aefb91c58d31beb084e5581f3732c4f90c2/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f61"><img src="https://camo.githubusercontent.com/783c2aefb91c58d31beb084e5581f3732c4f90c2/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f61" title="a" data-canonical-src="http://latex.codecogs.com/gif.latex?a" style="max-width:100%;"></a>. At this point, I know a lot of you don't remember that. That's fine. We have a picture to show you.</p>
<p>Andre Staltz created this fantastic called <a href="http://matrixmultiplication.xyz/" rel="nofollow">http://matrixmultiplication.xyz/</a> and here we have a matrix by a vector, and we are going to do a matrix vector product.</p>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/matrix.gif"><img src="/hiromis/notes/raw/master/lesson2/matrix.gif" alt="" style="max-width:100%;"></a></p>
<p>That is what matrix vector multiplication does. In other words, it's just <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/71c6daef1d932ce86ee346c4f7ce39a473f1817d/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f795f692673706163653b3d2673706163653b615f31785f695f2c5f312673706163653b2b2673706163653b615f32785f695f2c5f32"><img src="https://camo.githubusercontent.com/71c6daef1d932ce86ee346c4f7ce39a473f1817d/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f795f692673706163653b3d2673706163653b615f31785f695f2c5f312673706163653b2b2673706163653b615f32785f695f2c5f32" title="y_i = a_1x_i_,_1 + a_2x_i_,_2" data-canonical-src="http://latex.codecogs.com/gif.latex?y_i&amp;space;=&amp;space;a_1x_i_,_1&amp;space;+&amp;space;a_2x_i_,_2" style="max-width:100%;"></a> except his version is much less messy.</p>
<p><strong>Question</strong>: When generating new image dataset, how do you know how many images are enough? What are ways to measure "enough"? [<a href="https://youtu.be/Egp4Zajhzog?t=4115" rel="nofollow">1:08:35</a>]</p>
<p>Great question. Another possible problem you have is you don't have enough data. How do you know if you don't have enough data? Because you found a good learning rate (i.e. if you make it higher than it goes off into massive losses; if you make it lower, it goes really slowly) and then you train for such a long time that your error starts getting worse. So you know that you trained for long enough. And you're still not happy with the accuracyÔπ£it's not good enough for the teddy bear cuddling level of safety you want. So if that happens, there's a number of things you can do and we'll learn pretty much all of them during this course but one of the easiest one is get more data. If you get more data, then you can train for longer, get a higher accuracy, lower error rate, without overfitting.</p>
<p>Unfortunately there is no shortcut. I wish there was. I wish there's some way to know ahead of time how much data you need. But I will say thisÔπ£most of the time, you need less data than you think. So organizations very commonly spend too much time gathering data, getting more data than it turned out they actually needed. So get a small amount first and see how you go.</p>
<p><strong>Question</strong>: What do you do if you have unbalanced classes such as 200 grizzly and 50 teddy? [<a href="https://youtu.be/Egp4Zajhzog?t=4200" rel="nofollow">1:10:00</a>]</p>
<p>Nothing. Try it. It works. A lot of people ask this question about how do I deal with unbalanced data. I've done lots of analysis with unbalanced data over the last couple of years and I just can't make it not work. It always works. There's actually a paper that said if you want to get it slightly better then the best thing to do is to take that uncommon class and just make a few copies of it. That's called "oversampling" but I haven't found a situation in practice where I needed to do that. I've found it always just works fine, for me.</p>
<p><strong>Question</strong>: Once you unfreeze and retrain with one cycle again, if your training loss is still higher than your validation loss (likely underfitting), do you retrain it unfrozen again (which will technically be more than one cycle) or you redo everything with longer epoch per the cycle?  [<a href="https://youtu.be/Egp4Zajhzog?t=4247" rel="nofollow">1:10:47</a>]</p>
<p>You guys asked me that last week. My answer is still the same. I don't know. Either is fine. If you do another cycle, then it'll maybe generalize a little bit better. If you start again, do twice as long, it's kind of annoying, depends how patient you are. It won't make much difference. For me personally, I normally just train a few more cycles. But it doesn't make much difference most of the time.</p>
<p><strong>Question</strong>: Question about this code example:</p>
<pre><code>classes = ['black', 'grizzly', 'teddys']
data2 = ImageDataBunch.single_from_classes(path, classes, tfms=get_transforms(), size=224).normalize(imagenet_stats)
learn = create_cnn(data2, models.resnet34)
learn.load('stage-2')
</code></pre>
<p>This requires <code>models.resnet34</code> which I find surprising: I had assumed that the model created by <code>.save(...)</code> (which is about 85MB on disk) would be able to run without also needing a copy of <code>resnet34</code>. [<a href="https://youtu.be/Egp4Zajhzog?t=4297" rel="nofollow">1:11:37</a>]</p>
<p>We're going to be learning all about this shortly. There is no "copy of ResNet34", ResNet34 is what we call "architecture"Ôπ£it's a functional form. Just like <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/c2f4542eb1d4078a45ef76065cb912b7bb7c4726/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f792673706163653b3d2673706163653b61782673706163653b2b2673706163653b62"><img src="https://camo.githubusercontent.com/c2f4542eb1d4078a45ef76065cb912b7bb7c4726/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f792673706163653b3d2673706163653b61782673706163653b2b2673706163653b62" title="y = ax + b" data-canonical-src="http://latex.codecogs.com/gif.latex?y&amp;space;=&amp;space;ax&amp;space;+&amp;space;b" style="max-width:100%;"></a> is a linear functional form. It doesn't take up any room, it doesn't contain anything, it's just a function. ResNet34 is just a function. I think the confusion here is that we often use a pre-trained neural net that's been learnt on ImageNet. In this case, we don't need to use a pre-trained neural net. Actually, to avoid that even getting created, you can actually pass <code>pretrained=False</code>:</p>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/26.png"><img src="/hiromis/notes/raw/master/lesson2/26.png" alt="" style="max-width:100%;"></a></p>
<p>That'll ensure that nothing even gets loaded which will save you another 0.2 seconds, I guess. But we'll be learning a lot more about this. So don't worry if this is a bit unclear. The basic idea is <code>models.resnet34</code> above is basically the equivalent of saying is it a line or is it a quadratic or is it a reciprocalÔπ£this is just a function. This is a ResNet34 function. It's a mathematical function. It doesn't take any storage, it doesn't have any numbers, it doesn't have to be loaded as opposed to a pre-trained model. When we did it at the inference time, the thing that took space is this bit:</p>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/27.png"><img src="/hiromis/notes/raw/master/lesson2/27.png" alt="" style="max-width:100%;"></a></p>
<p>Which is where we load our parameters. It is basically saying, as we are about find out, what are the values of <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/783c2aefb91c58d31beb084e5581f3732c4f90c2/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f61"><img src="https://camo.githubusercontent.com/783c2aefb91c58d31beb084e5581f3732c4f90c2/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f61" title="a" data-canonical-src="http://latex.codecogs.com/gif.latex?a" style="max-width:100%;"></a> and <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/5733459b10bf1ea895372662236a3ca8eb43d96c/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f62"><img src="https://camo.githubusercontent.com/5733459b10bf1ea895372662236a3ca8eb43d96c/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f62" title="b" data-canonical-src="http://latex.codecogs.com/gif.latex?b" style="max-width:100%;"></a>Ôπ£ we have to store these numbers. But for ResNet 34, you don't just store 2 numbers, you store a few million or few tens of millions of numbers.</p>
<p>[<a href="https://youtu.be/Egp4Zajhzog?t=4453" rel="nofollow">1:14:13</a> ]</p>
<p>So why did we all this? It's because I wanted to be able to write it out like this: <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/3958032df9358d8247ea8a34284ceb49035fbaf2/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f5c7665637b797d2673706163653b3d2673706163653b585c7665637b617d"><img src="https://camo.githubusercontent.com/3958032df9358d8247ea8a34284ceb49035fbaf2/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f5c7665637b797d2673706163653b3d2673706163653b585c7665637b617d" title="\vec{y} = X\vec{a}" data-canonical-src="http://latex.codecogs.com/gif.latex?\vec{y}&amp;space;=&amp;space;X\vec{a}" style="max-width:100%;"></a> and the reason I wanted to be able to like this is that we can now do that in PyTorch with no loops, single line of code, and it's also going to run faster.</p>
<blockquote>
<p><strong>PyTorch really doesn't like loops</strong></p>
</blockquote>
<p>It really wants you to send it a whole equation to do all at once. Which means, you really want to try and specify things in these kind of linear algebra ways. So let's go and take a look because what we're going to try and do then is we're going to try and take this <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/3958032df9358d8247ea8a34284ceb49035fbaf2/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f5c7665637b797d2673706163653b3d2673706163653b585c7665637b617d"><img src="https://camo.githubusercontent.com/3958032df9358d8247ea8a34284ceb49035fbaf2/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f5c7665637b797d2673706163653b3d2673706163653b585c7665637b617d" title="\vec{y} = X\vec{a}" data-canonical-src="http://latex.codecogs.com/gif.latex?\vec{y}&amp;space;=&amp;space;X\vec{a}" style="max-width:100%;"></a> (we're going to call this an architecture). It's the world's tiniest neural network. It's got two parameters <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/51e38957bd4b5f369c08ff95872f720505a4d563/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f31"><img src="https://camo.githubusercontent.com/51e38957bd4b5f369c08ff95872f720505a4d563/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f31" title="a_1" data-canonical-src="http://latex.codecogs.com/gif.latex?a_1" style="max-width:100%;"></a> and <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/f2856abff86c5ee5318aadf217629be9f4e0866b/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f32"><img src="https://camo.githubusercontent.com/f2856abff86c5ee5318aadf217629be9f4e0866b/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f32" title="a_2" data-canonical-src="http://latex.codecogs.com/gif.latex?a_2" style="max-width:100%;"></a>. We are going to try and fit this architecture to some data.</p>
<h3><a id="user-content-sgd-11506" class="anchor" aria-hidden="true" href="#sgd-11506"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>SGD [<a href="https://youtu.be/Egp4Zajhzog?t=4506" rel="nofollow">1:15:06</a>]</h3>
<p>So let's jump into a notebook and generate some dots, and see if we can get it to fit a line somehow. And the "somehow" is going to be using something called SGD. What is SGD? Well, there's two types of SGD. The first one is where I said in lesson 1 "hey you should all try building these models and try and come up with something cool" and you guys all experimented and found really good stuff. So that's where the S would be Student. That would be Student Gradient Descent. So that's version one of SGD.</p>
<p>Version two of SGD which is what I'm going to talk about today is where we are going to have a computer try lots of things and try and come up with a really good function and that would be called Stochastic Gradient Descent. The other one that you hear a lot on Twitter is Stochastic Grad student Descent.</p>
<h4><a id="user-content-linear-regression-problem-11608" class="anchor" aria-hidden="true" href="#linear-regression-problem-11608"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Linear Regression problem [<a href="https://youtu.be/Egp4Zajhzog?t=4568" rel="nofollow">1:16:08</a>]</h4>
<p>We are going to jump into <a href="https://github.com/fastai/course-v3/blob/master/nbs/dl1/lesson2-sgd.ipynb">lesson2-sgd.ipynb</a>. We are going to go bottom-up rather than top-down. We are going to create the simplest possible model we can which is going to be a linear model. And the first thing we need is we need some data. So we are going to generate some data. The data we're going to generate looks like this:</p>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/n1.png"><img src="/hiromis/notes/raw/master/lesson2/n1.png" alt="" style="max-width:100%;"></a></p>
<p>So x-axis might represent temperature, y-axis might represent number of ice creams we sell, or something like that. But we're just going to create some synthetic data that we know is following a line. As we build this, we're actually going to learn a little bit about PyTorch as well.</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">%</span>matplotlib inline
<span class="pl-k">from</span> fastai <span class="pl-k">import</span> <span class="pl-k">*</span></pre></div>
<div class="highlight highlight-source-python"><pre>n<span class="pl-k">=</span><span class="pl-c1">100</span></pre></div>
<div class="highlight highlight-source-python"><pre>x <span class="pl-k">=</span> torch.ones(n,<span class="pl-c1">2</span>) 
x[:,<span class="pl-c1">0</span>].uniform_(<span class="pl-k">-</span><span class="pl-c1">1</span>.,<span class="pl-c1">1</span>)
x[:<span class="pl-c1">5</span>]</pre></div>
<pre><code>tensor([[-0.1338,  1.0000],
        [-0.4062,  1.0000],
        [-0.3621,  1.0000],
        [ 0.4551,  1.0000],
        [-0.8161,  1.0000]])
</code></pre>
<p>Basically the way we're going to generate this data is by creating some coefficients.  <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/51e38957bd4b5f369c08ff95872f720505a4d563/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f31"><img src="https://camo.githubusercontent.com/51e38957bd4b5f369c08ff95872f720505a4d563/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f31" title="a_1" data-canonical-src="http://latex.codecogs.com/gif.latex?a_1" style="max-width:100%;"></a> will be 3 and <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/f2856abff86c5ee5318aadf217629be9f4e0866b/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f32"><img src="https://camo.githubusercontent.com/f2856abff86c5ee5318aadf217629be9f4e0866b/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f32" title="a_2" data-canonical-src="http://latex.codecogs.com/gif.latex?a_2" style="max-width:100%;"></a> will be 2. We are going to create a column of numbers for our <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/49cd1b956beeecc1e80245469553975caa2f9e12/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f78"><img src="https://camo.githubusercontent.com/49cd1b956beeecc1e80245469553975caa2f9e12/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f78" title="x" data-canonical-src="http://latex.codecogs.com/gif.latex?x" style="max-width:100%;"></a>'s and a whole bunch of 1's.</p>
<div class="highlight highlight-source-python"><pre>a <span class="pl-k">=</span> tensor(<span class="pl-c1">3</span>.,<span class="pl-c1">2</span>); a</pre></div>
<pre><code>tensor([3., 2.])
</code></pre>
<p>And then we're going to do this <code>x@a</code>. What is <code>x@a</code>? <code>x@a</code> in Python means a matrix product between <code>x</code> and <code>a</code>.  And it actually is even more general than that. It can be a vector vector product, a matrix vector product, a vector matrix product, or a matrix matrix product. Then actually in PyTorch, specifically, it can mean even more general things where we get into higher rank tensors which we will learn all about very soon. But this is basically the key thing that's going to go on in all of our deep learning. The vast majority of the time, our computers are going to be basically doing thisÔπ£multiplying numbers together and adding them up which is the surprisingly useful thing to do.</p>
<div class="highlight highlight-source-python"><pre>y <span class="pl-k">=</span> x<span class="pl-k">@</span>a <span class="pl-k">+</span> torch.rand(n)</pre></div>
<p>[<a href="https://youtu.be/Egp4Zajhzog?t=4677" rel="nofollow">1:17:57</a>]</p>
<p>So we basically are going to generate some data by creating a line and then we're going to add some random numbers to it. But let's go back and see how we created <code>x</code> and <code>a</code>. I mentioned that we've basically got these two coefficients 3 and 2. And you'll see that we've wrapped it in this function called <code>tensor</code>. You might have heard this word "tensor" before. It's one of these words that sounds scary and apparently if you're a physicist, it actually is scary. But in the world of deep learning, it's actually not scary at all. "Tensor" means array, but specifically it's an array of a regular shape. So it's not an array where row 1 has two things, row 3 has three things, and row 4 has one thing, what you call a "jagged array". That's not a tensor.  A tensor is any array which has a rectangular or cube or whatever Ôπ£ a shape where every row is the same length and every column is the same length. The following are all tensors:</p>
<ul>
<li>4 by 3 matrix</li>
<li>A vector of length 4</li>
<li>A 3D array of length 3 by 4 by 6</li>
</ul>
<p>That's all tensor is. We have these all the time. For example, an image is a 3 dimensional tensor. It's got number of rows by number of columns by number of channels (normally red, green, blue). So for example, VGA picture could be 640 by 480 by 3 or actually we do things backwards so when people talk about images, they normally go width by height, but when we talk mathematically, we always go a number of rows by number of columns, so it would actually be 480 by 640 by 3 that will catch you out. We don't say dimensions, though, with tensors. We use one of two words, we either say rank or axis. Rank specifically means how many axes are there, how many dimensions are there. So an image is generally a rank 3 tensor. What we created here is a rank 1 tensor (also known as a vector). But in math, people come up with very different words for slightly different concepts. Why is a one dimensional array a vector and a two dimensional array is a matrix, and a three dimensional array doesn't have a name. It doesn't make any sense. With computers, we try to have some simple consistent naming conventions. They are all called tensorsÔπ£rank 1 tensor, rank 2 tensor, rank 3 tensor. You can certainly have a rank 4 tensor. If you've got 64 images, then that would be a rank 4 tensor of 64 by 480 by 640 by 3. So tensors are very simple. They just mean arrays.</p>
<p>In PyTorch, you say <code>tensor</code> and you pass in some numbers, and you get back, which in this case just a list,  a vector. This then represents our coefficients: the slope and the intercept of our line.</p>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/28.png"><img src="/hiromis/notes/raw/master/lesson2/28.png" alt="" style="max-width:100%;"></a></p>
<p>Because we are not actually going to have a special case of <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/4fa4c453b4dba00087ac84a6ad65285bf379b95e/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f61782673706163653b2b2673706163653b62"><img src="https://camo.githubusercontent.com/4fa4c453b4dba00087ac84a6ad65285bf379b95e/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f61782673706163653b2b2673706163653b62" title="ax + b" data-canonical-src="http://latex.codecogs.com/gif.latex?ax&amp;space;+&amp;space;b" style="max-width:100%;"></a>, instead, we are going to say there's always this second <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/49cd1b956beeecc1e80245469553975caa2f9e12/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f78"><img src="https://camo.githubusercontent.com/49cd1b956beeecc1e80245469553975caa2f9e12/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f78" title="x" data-canonical-src="http://latex.codecogs.com/gif.latex?x" style="max-width:100%;"></a> value which is always 1</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/71c6daef1d932ce86ee346c4f7ce39a473f1817d/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f795f692673706163653b3d2673706163653b615f31785f695f2c5f312673706163653b2b2673706163653b615f32785f695f2c5f32"><img src="https://camo.githubusercontent.com/71c6daef1d932ce86ee346c4f7ce39a473f1817d/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f795f692673706163653b3d2673706163653b615f31785f695f2c5f312673706163653b2b2673706163653b615f32785f695f2c5f32" title="y_i = a_1x_i_,_1 + a_2x_i_,_2" data-canonical-src="http://latex.codecogs.com/gif.latex?y_i&amp;space;=&amp;space;a_1x_i_,_1&amp;space;+&amp;space;a_2x_i_,_2" style="max-width:100%;"></a></p>
<p>You can see it here, always 1 which allows us just to do a simple matrix vector product:</p>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/29.png"><img src="/hiromis/notes/raw/master/lesson2/29.png" alt="" style="max-width:100%;"></a></p>
<p>So that's <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/783c2aefb91c58d31beb084e5581f3732c4f90c2/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f61"><img src="https://camo.githubusercontent.com/783c2aefb91c58d31beb084e5581f3732c4f90c2/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f61" title="a" data-canonical-src="http://latex.codecogs.com/gif.latex?a" style="max-width:100%;"></a>. Then we wanted to generate this <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/49cd1b956beeecc1e80245469553975caa2f9e12/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f78"><img src="https://camo.githubusercontent.com/49cd1b956beeecc1e80245469553975caa2f9e12/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f78" title="x" data-canonical-src="http://latex.codecogs.com/gif.latex?x" style="max-width:100%;"></a> array of data. We're going to put random numbers in the first column and a whole bunch of 1's in the second column. To do that, we say to PyTorch that we want to create a rank 2 tensor of <code>n</code> by 2. Since we passed in a total of 2 things, we get a rank 2 tensor. The number of rows will be <code>n</code> and the number of columns will be 2. In there, every single thing in it will be a 1Ôπ£that's what <code>torch.ones</code> means.</p>
<p>[<a href="https://youtu.be/Egp4Zajhzog?t=4965" rel="nofollow">1:22:45</a>]</p>
<p>Then this is really important. You can index into that just like you can index into a list in Python. But you can put a colon anywhere and a colon means every single value on that axis/dimension. This here <code>x[:,0]</code> means every single row of column 0. So <code>x[:,0].uniform_(-1.,1)</code> is every row of column 0, I want you to grab a uniform random numbers.</p>
<p>Here is another very important concept in PyTorch. Anytime you've got a function that ends with an underscore, it means don't return to me that uniform random number, but replace whatever this is being called on with the result of this function.  So this <code>x[:,0].uniform_(-1.,1)</code> takes column 0 and replaces it with a uniform random number between -1 and 1. So there's a lot to unpack there.</p>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/30.png"><img src="/hiromis/notes/raw/master/lesson2/30.png" alt="" style="max-width:100%;"></a></p>
<p>But the good news is these two lines of code and <code>x@a</code> which we are coming to cover 95% of what you need to know about PyTorch.</p>
<ol>
<li>How to create an array</li>
<li>How to change things in an array</li>
<li>How to do matrix operations on an array</li>
</ol>
<p>So there's a lot to unpack, but these small number of concepts are incredibly powerful. So I can now print out the first five rows. <code>[:5]</code> is a standard Python slicing syntax to say the first 5 rows. So here are the first 5 rows, 2 columns looking likeÔπ£my random numbers and my 1's.</p>
<p>Now I can do a matrix product of that <code>x</code> by my <code>a</code>, add in some random numbers to add a bit of noise.</p>
<div class="highlight highlight-source-python"><pre>y <span class="pl-k">=</span> x<span class="pl-k">@</span>a <span class="pl-k">+</span> torch.rand(n)</pre></div>
<p>Then I can do a scatter plot. I'm not really interested in my scatter plot in this column of ones. They are just there to make my linear function more convenient. So I'm just going to plot my zero index column against my <code>y</code>'s.</p>
<div class="highlight highlight-source-python"><pre>plt.scatter(x[:,<span class="pl-c1">0</span>], y)<span class="pl-bu">;</span></pre></div>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/n1.png"><img src="/hiromis/notes/raw/master/lesson2/n1.png" alt="" style="max-width:100%;"></a></p>
<p><code>plt</code> is what we universally use to refer to the plotting library, matplotlib. That's what most people use for most of their plotting in scientific Python. It's certainly a library you'll want to get familiar with because being able to plot things is really important. There are lots of other plotting packages. Lots of the other packages are better at certain things than matplotlib, but matplotlib can do everything reasonably well. Sometimes it's a little awkward, but for me, I do pretty much everything in matplotlib because there is really nothing it can't do even though some libraries can do other things a little bit better or prettier. But it's really powerful so once you know matplotlib, you can do everything. So here, I'm asking matplotlib to give me a scatterplot with my <code>x</code>'s against my <code>y</code>'s. So this is my dummy data representing temperature and ice cream sales.</p>
<p><a href="https://youtu.be/Egp4Zajhzog?t=5178" rel="nofollow">[1:26:18]</a></p>
<p>Now what we're going to do is, we are going to pretend we were given this data and we don't know that the values of our coefficients are 3 and 2. So we're going to pretend that we never knew that and we have to figure them out. How would we figure them out? How would we draw a line to fit this data and why would that even be interesting? Well, we're going to look at more about why it's interesting in just a moment. But the basic idea is:</p>
<blockquote>
<p>If we can find a way to find those two parameters to fit that line to those 100 points, we can also fit these arbitrary functions that convert from pixel values to probabilities.</p>
</blockquote>
<p>It will turn out that these techniques that we're going to learn to find these two numbers works equally well for the 50 million numbers in ResNet34. So we're actually going to use an almost identical approach. This is the bit that I found in previous classes people have the most trouble digesting. I often find, even after week 4 or week 5, people will come up to me and say:</p>
<p>Student: I don't get it. How do we actually train these models?</p>
<p>Jeremy: It's SGD. It's that thing we saw in the notebook with the 2 numbers.</p>
<p>Student: yeah, but... but we are fitting a neural network.</p>
<p>Jeremy: I know and we can't print the 50 million numbers anymore, but it's literally identically doing the same thing.</p>
<p>The reason this is hard to digest is that the human brain has a lot of trouble conceptualizing of what an equation with 50 million numbers looks like and can do. So for now, you'll have to take my word for it. It can do things like recognize teddy bears. All these functions turn out to be very powerful. We're going to learn about how to make them extra powerful. But for now, this thing we're going to learn to fit these two numbers is the same thing that we've just been using to fit 50 million numbers.</p>
<h3><a id="user-content-loss-function-12836" class="anchor" aria-hidden="true" href="#loss-function-12836"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Loss function [<a href="https://youtu.be/Egp4Zajhzog?t=5316" rel="nofollow">1:28:36</a>]</h3>
<p>We want to find what PyTorch calls <strong>parameters</strong>, or in statistics, you'll often hear it called coefficient (i.e. these values of <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/51e38957bd4b5f369c08ff95872f720505a4d563/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f31"><img src="https://camo.githubusercontent.com/51e38957bd4b5f369c08ff95872f720505a4d563/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f31" title="a_1" data-canonical-src="http://latex.codecogs.com/gif.latex?a_1" style="max-width:100%;"></a> and <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/f2856abff86c5ee5318aadf217629be9f4e0866b/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f32"><img src="https://camo.githubusercontent.com/f2856abff86c5ee5318aadf217629be9f4e0866b/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f32" title="a_2" data-canonical-src="http://latex.codecogs.com/gif.latex?a_2" style="max-width:100%;"></a>). We want to find these parameters such that the line that they create minimizes the error between that line and the points. In other words, if the <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/51e38957bd4b5f369c08ff95872f720505a4d563/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f31"><img src="https://camo.githubusercontent.com/51e38957bd4b5f369c08ff95872f720505a4d563/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f31" title="a_1" data-canonical-src="http://latex.codecogs.com/gif.latex?a_1" style="max-width:100%;"></a> and <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/f2856abff86c5ee5318aadf217629be9f4e0866b/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f32"><img src="https://camo.githubusercontent.com/f2856abff86c5ee5318aadf217629be9f4e0866b/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f32" title="a_2" data-canonical-src="http://latex.codecogs.com/gif.latex?a_2" style="max-width:100%;"></a> we came up with resulted in this line:</p>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/31.png"><img src="/hiromis/notes/raw/master/lesson2/31.png" alt="" style="max-width:100%;"></a></p>
<p>Then we'd look and we'd see how far away is that line from each point. That's quite a long way. So maybe there was some other <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/51e38957bd4b5f369c08ff95872f720505a4d563/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f31"><img src="https://camo.githubusercontent.com/51e38957bd4b5f369c08ff95872f720505a4d563/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f31" title="a_1" data-canonical-src="http://latex.codecogs.com/gif.latex?a_1" style="max-width:100%;"></a> and <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/f2856abff86c5ee5318aadf217629be9f4e0866b/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f32"><img src="https://camo.githubusercontent.com/f2856abff86c5ee5318aadf217629be9f4e0866b/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f32" title="a_2" data-canonical-src="http://latex.codecogs.com/gif.latex?a_2" style="max-width:100%;"></a> which resulted in the gray line. And they would say how far away is each of those points. And then eventually we come up with the yellow line. In this case, each of those is actually very close.</p>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/32.png"><img src="/hiromis/notes/raw/master/lesson2/32.png" alt="" style="max-width:100%;"></a></p>
<p>So you can see how in each case we can say how far away is the line at each spot away from its point, and then we can take the average of all those. That's called the <strong>loss</strong>. That is the value of our loss. So you need a mathematical function that can basically say how far away is this line from those points.</p>
<p>For this kind of problem which is called a regression problem (a problem where your dependent variable is continuous, so rather than being grizzlies or teddies, it's some number between -1 and 6), the most common loss function is called mean squared error which pretty much everybody calls MSE. You may also see RMSE which is root mean squared error. The mean squared error is a loss which is the difference between some predictions that you made which is like the value of the line and the actual number of ice cream sales. In the mathematics of this, people normally refer to the actual as <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/55772e890e71496a9c2c39069abf18db34310973/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f79"><img src="https://camo.githubusercontent.com/55772e890e71496a9c2c39069abf18db34310973/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f79" title="y" data-canonical-src="http://latex.codecogs.com/gif.latex?y" style="max-width:100%;"></a> and the prediction, they normally call it <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/5a051ac85e0c396e266ac10772df517ac35172be/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f5c6861747b797d"><img src="https://camo.githubusercontent.com/5a051ac85e0c396e266ac10772df517ac35172be/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f5c6861747b797d" title="\hat{y}" data-canonical-src="https://latex.codecogs.com/gif.latex?\hat{y}" style="max-width:100%;"></a> (y hat).</p>
<p>When writing something like mean squared error equation, there is no point writing "ice cream" and "temperature" because we want it to apply to anything. So we tend to use these mathematical placeholders.</p>
<p>So the value of mean squared error is simply the difference between those two (<code>y_hat-y</code>) squared. Then we can take the mean because both <code>y_hat</code> and <code>y </code> are rank 1 tensors, so we subtract one vector from another vector, it does something called "element-wise arithmetic" in other words, it subtracts each one from each other, so we end up with a vector of differences. Then if we take the square of that, it squares everything in that vector. So then we can take the mean of that to find the average square of the differences between the actuals and the predictions.</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">def</span> <span class="pl-en">mse</span>(<span class="pl-smi">y_hat</span>, <span class="pl-smi">y</span>): <span class="pl-k">return</span> ((y_hat<span class="pl-k">-</span>y)<span class="pl-k">**</span><span class="pl-c1">2</span>).mean()</pre></div>
<p>If you're more comfortable with mathematical notation, what we just wrote was:</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/5dc4171e3708da803230b463c8e0076fad5a5f33/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f5c667261637b5c73756d2673706163653b285c6861747b797d2d79295e327d7b6e7d"><img src="https://camo.githubusercontent.com/5dc4171e3708da803230b463c8e0076fad5a5f33/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f5c667261637b5c73756d2673706163653b285c6861747b797d2d79295e327d7b6e7d" title="\frac{\sum (\hat{y}-y)^2}{n}" data-canonical-src="https://latex.codecogs.com/gif.latex?\frac{\sum&amp;space;(\hat{y}-y)^2}{n}" style="max-width:100%;"></a></p>
<p>One of the things I'll note here is, I don't think <code>((y_hat-y)**2).mean()</code> is more complicated or unwieldy than <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/5dc4171e3708da803230b463c8e0076fad5a5f33/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f5c667261637b5c73756d2673706163653b285c6861747b797d2d79295e327d7b6e7d"><img src="https://camo.githubusercontent.com/5dc4171e3708da803230b463c8e0076fad5a5f33/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f5c667261637b5c73756d2673706163653b285c6861747b797d2d79295e327d7b6e7d" title="\frac{\sum (\hat{y}-y)^2}{n}" data-canonical-src="https://latex.codecogs.com/gif.latex?\frac{\sum&amp;space;(\hat{y}-y)^2}{n}" style="max-width:100%;"></a> but the benefit of the code is you can experiment with it. Once you've defined it, you can use it, you can send things into it, get stuff out of it, and see how it works. So for me, most of the time, I prefer to explain things with code rather than with math. Because they are the same, just different notations. But one of the notations is executable. It's something you can experiment with. And the other is abstract. That's why I'm generally going to show code.</p>
<p>So the good news is, if you're a coder with not much of a math background, actually you do have a math background. Because code is math. If you've got more of a math background and less of a code background, then actually a lot of the stuff that you learned from math is going to translate directly into code and now you can start to experiment with your math.</p>
<p>[<a href="https://youtu.be/Egp4Zajhzog?t=5643" rel="nofollow">1:34:03</a>]</p>
<p><code>mse</code> is a loss function. This is something that tells us how good our line is. Now we have to come up with what is the line that fits through here. Remember, we are going to pretend we don't know. So what you actually have to do is you have to guess. You actually have to come up with a guess what are the values of <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/51e38957bd4b5f369c08ff95872f720505a4d563/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f31"><img src="https://camo.githubusercontent.com/51e38957bd4b5f369c08ff95872f720505a4d563/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f31" title="a_1" data-canonical-src="http://latex.codecogs.com/gif.latex?a_1" style="max-width:100%;"></a> and <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/f2856abff86c5ee5318aadf217629be9f4e0866b/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f32"><img src="https://camo.githubusercontent.com/f2856abff86c5ee5318aadf217629be9f4e0866b/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f32" title="a_2" data-canonical-src="http://latex.codecogs.com/gif.latex?a_2" style="max-width:100%;"></a>. So let's say we guess that <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/51e38957bd4b5f369c08ff95872f720505a4d563/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f31"><img src="https://camo.githubusercontent.com/51e38957bd4b5f369c08ff95872f720505a4d563/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f31" title="a_1" data-canonical-src="http://latex.codecogs.com/gif.latex?a_1" style="max-width:100%;"></a> and <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/f2856abff86c5ee5318aadf217629be9f4e0866b/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f32"><img src="https://camo.githubusercontent.com/f2856abff86c5ee5318aadf217629be9f4e0866b/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f32" title="a_2" data-canonical-src="http://latex.codecogs.com/gif.latex?a_2" style="max-width:100%;"></a> are -1 and 1.</p>
<div class="highlight highlight-source-python"><pre>a <span class="pl-k">=</span> tensor(<span class="pl-k">-</span><span class="pl-c1">1</span>.,<span class="pl-c1">1</span>)</pre></div>
<p>Here is how you create that tensor and I wanted to write it this way because you'll see this all the time. Written out fully, it would be <code>tensor(-1.0, 1.0)</code>. We can't write it without the point because <code>tensor(-1, 1)</code> is now an int, not a floating point. So that's going to spit the dummy (Australian for "behave in a bad-tempered or petulant way") if you try to do calculations with that in neural nets.</p>
<p>I'm far too lazy to type <code>.0</code> every time. Python knows perfectly well that if you added <code>.</code> next to any of these numbers, then the whole thing is now floats. So that's why you'll often see it written this way, particularly by lazy people like me.</p>
<p>So <code>a</code> is a tensor. You can see it's floating-point. You see, even PyTorch is lazy. They just put a dot. They don't bother with a zero.</p>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/33.png"><img src="/hiromis/notes/raw/master/lesson2/33.png" alt="" style="max-width:100%;"></a></p>
<p>But if you want to actually see exactly what it is, you can write <code>.type()</code> and you can see it's a FloatTensor:</p>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/34.png"><img src="/hiromis/notes/raw/master/lesson2/34.png" alt="" style="max-width:100%;"></a></p>
<p>So now we can calculate our predictions with this random guess. <code>x@a</code> a matrix product of <code>x</code> and <code>a</code>. And we can now calculate the mean squared error of our predictions and their actuals, and that's our loss. So for this regression, our loss is 0.9.</p>
<div class="highlight highlight-source-python"><pre>y_hat <span class="pl-k">=</span> x<span class="pl-k">@</span>a
mse(y_hat, y)</pre></div>
<pre><code>tensor(8.8945)
</code></pre>
<p>So we can now plot a scatter plot of <code>x</code> against <code>y</code> and we can plot the scatter plot of <code>x</code> against <code>y_hat</code>.  And there they are.</p>
<div class="highlight highlight-source-python"><pre>plt.scatter(x[:,<span class="pl-c1">0</span>],y)
plt.scatter(x[:,<span class="pl-c1">0</span>],y_hat)<span class="pl-bu">;</span></pre></div>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/n2.png"><img src="/hiromis/notes/raw/master/lesson2/n2.png" alt="" style="max-width:100%;"></a></p>
<p>So that is not greatÔπ£not surprising. It's just a guess. So SGD or gradient descent more generally and anybody who's done engineering or probably computer science at school would have done plenty of this like Newton's method, etc at university. If you didn't, don't worry. We're going to learn it now.</p>
<p>It's basically about taking this guess and trying to make it a little bit better. How do we make it a little better? Well, there are only two numbers and the two numbers are the two numbers are the intercept of the orange line and the gradient of the orange line. So what we are going to do with gradient descent is we're going to simply say:</p>
<ul>
<li>What if we changed those two numbers a little bit?
<ul>
<li>What if we made the intercept a little bit higher or a little bit lower?</li>
<li>What if we made the gradient a little bit more positive or a little bit more negative?</li>
</ul>
</li>
</ul>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/35.png"><img src="/hiromis/notes/raw/master/lesson2/35.png" alt="" style="max-width:100%;"></a></p>
<p>There are 4 possibilities and then we can calculate the loss for each of those 4 possibilities and see what works. Did lifting it up or down make it better? Did tilting it more positive or more negative make it better? And then all we do is we say, okay, whichever one of those made it better, that's what we're going to do. That's it.</p>
<p>But here is the cool thing for those of you that remember calculus. You don't actually have to move it up and down, and round about. You can actually calculate the derivative. The derivative is the thing that tells you would moving it up or down make it better, or would rotating it this way or that way make it better. The good news is if you didn't do calculus or you don't remember calculus, I just told you everything you need to know about it. It tells you how changing one thing changes the function. That's what the derivative is, kind of, not quite strictly speaking, but close enough, also called the gradient. The gradient or the derivative tells you how changing <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/51e38957bd4b5f369c08ff95872f720505a4d563/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f31"><img src="https://camo.githubusercontent.com/51e38957bd4b5f369c08ff95872f720505a4d563/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f31" title="a_1" data-canonical-src="http://latex.codecogs.com/gif.latex?a_1" style="max-width:100%;"></a> up or down would change our MSE, how changing <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/f2856abff86c5ee5318aadf217629be9f4e0866b/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f32"><img src="https://camo.githubusercontent.com/f2856abff86c5ee5318aadf217629be9f4e0866b/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f615f32" title="a_2" data-canonical-src="http://latex.codecogs.com/gif.latex?a_2" style="max-width:100%;"></a> up or down would change our MSE, and this does it more quickly than actually moving it up and down.</p>
<p>In school, unfortunately, they forced us to sit there and calculate these derivatives by hand. We have computers. Computers can do that for us. We are not going to calculate them by hand.</p>
<div class="highlight highlight-source-python"><pre>a <span class="pl-k">=</span> nn.Parameter(a); a</pre></div>
<pre><code>Parameter containing:
tensor([-1.,  1.], requires_grad=True)
</code></pre>
<p><a href="https://youtu.be/Egp4Zajhzog?t=5952" rel="nofollow">[1:39:12]</a></p>
<p>Instead, we're doing to call <code>.backward()</code>. On our computer, that will calculate the gradient for us.</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">def</span> <span class="pl-en">update</span>():
    y_hat <span class="pl-k">=</span> x<span class="pl-k">@</span>a
    loss <span class="pl-k">=</span> mse(y, y_hat)
    <span class="pl-k">if</span> t <span class="pl-k">%</span> <span class="pl-c1">10</span> <span class="pl-k">==</span> <span class="pl-c1">0</span>: <span class="pl-c1">print</span>(loss)
    loss.backward()
    <span class="pl-k">with</span> torch.no_grad():
        a.sub_(lr <span class="pl-k">*</span> a.grad)
        a.grad.zero_()</pre></div>
<p>So here is what we're going to do. We are going to create a loop. We're going to loop through 100 times, and we're going to call a function called <code>update</code>. That function is going to:</p>
<ul>
<li>
<p>Calculate <code>y_hat</code> (i.e. our prediction)</p>
</li>
<li>
<p>Calculate loss (i.e. our mean squared error)</p>
</li>
<li>
<p>From time to time, it will print that out so we can see how we're going</p>
</li>
<li>
<p>Calculate the gradient. In PyTorch, calculating the gradient is done by using a method called <code>backward</code>. Mean squared error was just a simple standard mathematical function. PyTorch keeps track of how it was calculated and lets us calculate the derivative. So if you do a mathematical operation on a tensor in PyTorch, you can call <code>backward</code> to calculate the derivative and the derivative gets stuck inside an attribute called <code>.grad</code>.</p>
</li>
<li>
<p>Take my coefficients and I'm going to subtract from them my gradient (<code>sub_</code>). There is an underscore there because that's going to do it in-place. It's going to actually update those coefficients <code>a</code> to subtract the gradients from them. Why do we subtract? Because the gradient tells us if I move the whole thing downwards, the loss goes up. If I move the whole thing upwards, the loss goes down. So I want to do the opposite of the thing that makes it go up. We want our loss to be small. That's why we subtract.</p>
</li>
<li>
<p><code>lr</code> is our learning rate. All it is is the thing that we multiply by the gradient. Why is there any <code>lr</code> at all? Let me show you why.</p>
</li>
</ul>
<h4><a id="user-content-why-is-there-any-lr-at-all-14131" class="anchor" aria-hidden="true" href="#why-is-there-any-lr-at-all-14131"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Why is there any LR at all? [<a href="https://youtu.be/Egp4Zajhzog?t=6091" rel="nofollow">1:41:31</a>]</h4>
<p>Let's take a really simple example, a quadratic. And let's say your algorithm's job was to find where that quadratic was at its lowest point. How could it do this? Just like what we're doing now, the starting point would be just to pick some x value at random. Then find out what the value of y is. That's the starting point. Then it can calculate the gradient and the gradient is simply the slope, but it tells you moving in which direction is make you go down. So the gradient tells you, you have to go this way.
<a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/lr.gif"><img src="/hiromis/notes/raw/master/lesson2/lr.gif" alt="" style="max-width:100%;"></a></p>
<ul>
<li>
<p>If the gradient was really big, you might jump left a very long way, so you might jump all the way over to here. If you jumped over there, then that's actually not going to be very helpful because it's worse. We jumped too far so we don't want to jump too far.</p>
</li>
<li>
<p>Maybe we should just jump a little bit. That is actually a little bit closer. So then we'll just do another little jump. See what the gradient is and do another little jump, and repeat.</p>
</li>
<li>
<p>In other words, we find our gradient to tell us what direction to go and if we have to go a long way or not too far. But then we multiply it by some number less than 1 so we don't jump too far.</p>
</li>
</ul>
<p>Hopefully at this point, this might be reminding you of something which is what happened when our learning rate was too high.</p>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/38.png"><img src="/hiromis/notes/raw/master/lesson2/38.png" alt="" style="max-width:100%;"></a></p>
<p>Do you see why that happened now? Our learning rate was too high meant that we jumped all the way past the right answer further than we started with, and it got worse, and worse, and worse. So that's what a learning rate too high does.</p>
<p>On the other hand, if our learning rate is too low, then you just take tiny little steps and so eventually you're going to get there, but you are doing lots and lots of calculations along the way. So you really want to find something where it's either big enough steps like stairs or a little bit of back and forth. You want something that gets in there quickly but not so quickly it jumps out and diverges, not so slowly that it takes lots of steps. That's why we need a good learning rate and that's all it does.</p>
<p>So if you look inside the source code of any deep learning library, you'll find this:</p>
<p><code>a.sub_(lr * a.grad)</code></p>
<p>You will find something that says "coefficients Ôπ£ learning rate times gradient". And we will learn about some easy but important optimization we can do to make this go faster.</p>
<p>That's about it. There's a couple of other little minor issues that we don't need to talk about now: one involving zeroing out the gradient and other involving making sure that you turn gradient calculation off when you do the SGD update. If you are interested, we can discuss them on the forum or you can do our introduction to machine learning course which covers all the mechanics of this in more detail.</p>
<h4><a id="user-content-training-loop-14543" class="anchor" aria-hidden="true" href="#training-loop-14543"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Training loop [<a href="https://youtu.be/Egp4Zajhzog?t=6343" rel="nofollow">1:45:43</a>]</h4>
<p>If we run <code>update</code> 100 times printing out the loss from time to time, you can see it starts at  8.9, and it goes down.</p>
<div class="highlight highlight-source-python"><pre>lr <span class="pl-k">=</span> <span class="pl-c1">1e-1</span>
<span class="pl-k">for</span> t <span class="pl-k">in</span> <span class="pl-c1">range</span>(<span class="pl-c1">100</span>): update()</pre></div>
<pre><code>tensor(8.8945, grad_fn=&lt;MeanBackward1&gt;)
tensor(1.6115, grad_fn=&lt;MeanBackward1&gt;)
tensor(0.5759, grad_fn=&lt;MeanBackward1&gt;)
tensor(0.2435, grad_fn=&lt;MeanBackward1&gt;)
tensor(0.1356, grad_fn=&lt;MeanBackward1&gt;)
tensor(0.1006, grad_fn=&lt;MeanBackward1&gt;)
tensor(0.0892, grad_fn=&lt;MeanBackward1&gt;)
tensor(0.0855, grad_fn=&lt;MeanBackward1&gt;)
tensor(0.0843, grad_fn=&lt;MeanBackward1&gt;)
tensor(0.0839, grad_fn=&lt;MeanBackward1&gt;)
</code></pre>
<p>So you can then print out scatterplots and there it is.</p>
<div class="highlight highlight-source-python"><pre>plt.scatter(x[:,<span class="pl-c1">0</span>],y)
plt.scatter(x[:,<span class="pl-c1">0</span>],x<span class="pl-k">@</span>a)<span class="pl-bu">;</span></pre></div>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/n3.png"><img src="/hiromis/notes/raw/master/lesson2/n3.png" alt="" style="max-width:100%;"></a></p>
<p>That's it! Believe it or not, that's gradient descent. So we just need to start with a function that's a bit more complex than <code>x@a</code> but as long as we have a function that can represent things like if this is a teddy bear, we now have a way to fit it.</p>
<h4><a id="user-content-animate-it-14620" class="anchor" aria-hidden="true" href="#animate-it-14620"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Animate it! [<a href="https://youtu.be/Egp4Zajhzog?t=6380" rel="nofollow">1:46:20</a>]</h4>
<p>Let's now take a look at this as an animation. This is one of the nice things that you can do with matplotlib. You can take any plot and turn it into an animation. So you can now actually see it updating each step.</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">from</span> matplotlib <span class="pl-k">import</span> animation, rc
rc(<span class="pl-s"><span class="pl-pds">'</span>animation<span class="pl-pds">'</span></span>, <span class="pl-v">html</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>html5<span class="pl-pds">'</span></span>)</pre></div>
<blockquote>
<p>You may need to uncomment the following to install the necessary plugin the first time you run this:
(after you run following commands, make sure to restart the kernal for this notebook)
If you are running in colab, the installs are not needed; just change the cell above to be ... html='jshtml' instead of ... html='html5'</p>
</blockquote>
<div class="highlight highlight-source-python"><pre><span class="pl-c"><span class="pl-c">#</span>! sudo add-apt-repository -y ppa:mc3man/trusty-media  </span>
<span class="pl-c"><span class="pl-c">#</span>! sudo apt-get update -y </span>
<span class="pl-c"><span class="pl-c">#</span>! sudo apt-get install -y ffmpeg  </span>
<span class="pl-c"><span class="pl-c">#</span>! sudo apt-get install -y frei0r-plugins</span></pre></div>
<p>Let's see what we did here. We simply said, as before, create a scatter plot, but then rather than having a loop, we used matplotlib's <code>FuncAnimation</code> to call 100 times this <code>animate</code> function.  And this function just calls that <code>update</code> we created earlier then update the <code>y</code> data in our line. Repeat that 100 times, waiting 20 milliseconds after each one.</p>
<div class="highlight highlight-source-python"><pre>a <span class="pl-k">=</span> nn.Parameter(tensor(<span class="pl-k">-</span><span class="pl-c1">1</span>.,<span class="pl-c1">1</span>))

fig <span class="pl-k">=</span> plt.figure()
plt.scatter(x[:,<span class="pl-c1">0</span>], y, <span class="pl-v">c</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>orange<span class="pl-pds">'</span></span>)
line, <span class="pl-k">=</span> plt.plot(x[:,<span class="pl-c1">0</span>], x<span class="pl-k">@</span>a)
plt.close()

<span class="pl-k">def</span> <span class="pl-en">animate</span>(<span class="pl-smi">i</span>):
    update()
    line.set_ydata(x<span class="pl-k">@</span>a)
    <span class="pl-k">return</span> line,

animation.FuncAnimation(fig, animate, np.arange(<span class="pl-c1">0</span>, <span class="pl-c1">100</span>), <span class="pl-v">interval</span><span class="pl-k">=</span><span class="pl-c1">20</span>)</pre></div>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/download.mp4"><img src="/hiromis/notes/raw/master/lesson2/download.mp4" alt="" style="max-width:100%;"></a></p>
<p>You might think visualizing your algorithms with animations is something amazing and complex thing to do, but actually now you know it's 11 lines of code. So I think it's pretty darn cool.</p>
<p>That is SGD visualized and we can't visualize as conveniently what updating 50 million parameters in a ResNet 34 looks like but basically doing the same thing. So studying these simple version is actually a great way to get an intuition. So you should try running this notebook with a really big learning rate, with a really small learning rate, and see what this animation looks like, and try to get a feel for it. Maybe you can even try a 3D plot. I haven't tried that yet, but I'm sure it would work fine.</p>
<h4><a id="user-content-mini-batches-14808" class="anchor" aria-hidden="true" href="#mini-batches-14808"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Mini-batches [<a href="https://youtu.be/Egp4Zajhzog?t=6488" rel="nofollow">1:48:08</a>]</h4>
<p>The only difference between stochastic gradient descent and this is something called <em>mini-batches</em>. You'll see, what we did here was we calculated the value of the loss on the whole dataset on every iteration. But if your dataset is 1.5 million images in ImageNet, that's going to be really slow. Just to do a single update of your parameters, you've got to calculate the loss on 1.5 million images. You wouldn't want to do that. So what we do is we grab 64 images or so at a time at random, and we calculate the loss on those 64 images, and we update our weights. Then we have another 64 random images, and we update our weights. In other words, the loop basically looks exactly the same but add some random indexes on our <code>x</code> and <code>y</code> to do a mini-batch at a time, and that would be the basic difference.</p>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/39.png"><img src="/hiromis/notes/raw/master/lesson2/39.png" alt="" style="max-width:100%;"></a></p>
<p>Once you add those grab a random few points each time, those random few points are called your mini-batch, and that approach is called SGD for Stochastic Gradient Descent.</p>
<h4><a id="user-content-vocabulary-14940" class="anchor" aria-hidden="true" href="#vocabulary-14940"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Vocabulary [<a href="https://youtu.be/Egp4Zajhzog?t=6580" rel="nofollow">1:49:40</a>]</h4>
<p>There's quite a bit of vocab we've just covered, so let's remind ourselves.</p>
<ul>
<li>
<p><strong>Learning rate</strong>: A thing we multiply our gradient by to decide how much to update the weights by.</p>
</li>
<li>
<p><strong>Epoch</strong>: One complete run through all of our data points (e.g. all of our images). So for non-stochastic gradient descent we just did, every single loop, we did the entire dataset. But if you've got a dataset with a thousand images and our mini-batch size is 100, then it would take you 10 iterations to see every image once. So that would be one epoch. Epochs are important because if you do lots of epochs, then you are looking at your images lots of times, so every time you see an image, there's a bigger chance of overfitting. So we generally don't want to do too many epochs.</p>
</li>
<li>
<p><strong>Mini-batch</strong>: A random bunch of points that you use to update your weights.</p>
</li>
<li>
<p><strong>SGD</strong>: Stochastic gradient descent using mini-batches.</p>
</li>
<li>
<p><strong>Model / Architecture</strong>: They kind of mean the same thing. In this case, our architecture is <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/3958032df9358d8247ea8a34284ceb49035fbaf2/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f5c7665637b797d2673706163653b3d2673706163653b585c7665637b617d"><img src="https://camo.githubusercontent.com/3958032df9358d8247ea8a34284ceb49035fbaf2/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f5c7665637b797d2673706163653b3d2673706163653b585c7665637b617d" title="\vec{y} = X\vec{a}" data-canonical-src="http://latex.codecogs.com/gif.latex?\vec{y}&amp;space;=&amp;space;X\vec{a}" style="max-width:100%;"></a>Ôπ£ the architecture is the mathematical function that you're fitting the parameters to. And we're going to learn later today or next week what the mathematical function of things like ResNet34 actually is. But it's basically pretty much what you've just seen. It's a bunch of matrix products.</p>
</li>
<li>
<p><strong>Parameters / Coefficients / Weights</strong>: Numbers that you are updating.</p>
</li>
<li>
<p><strong>Loss function</strong>: The thing that's telling you how far away or how close you are to the correct answer. For classification problems, we use <em>cross entropy loss</em>, also known as <em>negative log likelihood loss</em>. This penalizes incorrect confident predictions, and correct unconfident predictions.</p>
</li>
</ul>
<p><a href="https://youtu.be/Egp4Zajhzog?t=6705" rel="nofollow">1:51:45</a></p>
<p>These models / predictors / teddy bear classifiers are functions that take pixel values and return probabilities. They start with some functional form like <a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/3958032df9358d8247ea8a34284ceb49035fbaf2/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f5c7665637b797d2673706163653b3d2673706163653b585c7665637b617d"><img src="https://camo.githubusercontent.com/3958032df9358d8247ea8a34284ceb49035fbaf2/687474703a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f5c7665637b797d2673706163653b3d2673706163653b585c7665637b617d" title="\vec{y} = X\vec{a}" data-canonical-src="http://latex.codecogs.com/gif.latex?\vec{y}&amp;space;=&amp;space;X\vec{a}" style="max-width:100%;"></a> and they fit the parameter <code>a</code> using SGD to try and do the best to calculate your predictions. So far, we've learned how to do regression which is a single number. Next we'll learn how to do the same thing for classification where we have multiple numbers, but basically the same.</p>
<p>In the process, we had to do some math. We had to do some linear algebra and calculus and a lot of people get a bit scared at that point and tell us "I am not a math person". If that's you, that's totally okay. But you are wrong. You are a math person. In fact, it turns out that in the actual academic research around this, there are not "math people" and "non-math people". It turns out to be entirely a result of culture and expectations. So you should check out Rachel's talk:</p>
<p><a href="https://www.youtube.com/watch?v=q6DGVGJ1WP4" rel="nofollow">There is no such thing as "not a math person"</a></p>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/rachel.png"><img src="/hiromis/notes/raw/master/lesson2/rachel.png" alt="" style="max-width:100%;"></a></p>
<p>She will introduce you to some of that academic research. If you think of yourself as not a math person, you should watch this so that you learn that you're wrong that your thoughts are actually there because somebody has told you you're not a math person. But there's actually no academic research to suggest that there is such a thing. In fact, there are some cultures like Romania and China where the "not a math person" concept never even appeared. It's almost unheard of in some cultures for somebody to say I'm not a math person because that just never entered that cultural identity.</p>
<p>So don't freak out if words like derivative, gradient, and matrix product are things that you're kind of scared of. It's something you can learn. Something you'll be okay with.</p>
<h4><a id="user-content-underfitting-and-overfitting-15442" class="anchor" aria-hidden="true" href="#underfitting-and-overfitting-15442"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Underfitting and Overfitting [<a href="https://youtu.be/Egp4Zajhzog?t=6882" rel="nofollow">1:54:42</a>]</h4>
<p>The last thing I want to close with is the idea of underfitting and overfitting. We just fit a line to our data. But imagine that our data wasn't actually line shaped. So if we try to fit which was something like constant + constant times X (i.e. a line) to it, it's never going to fit very well. No matter how much we change these two coefficients, it's never going to get really close.</p>
<p><a target="_blank" rel="noopener noreferrer" href="/hiromis/notes/blob/master/lesson2/40.png"><img src="/hiromis/notes/raw/master/lesson2/40.png" alt="" style="max-width:100%;"></a></p>
<p>On the other hand, we could fit some much bigger equation, so in this case it's a higher degree polynomial with lots of wiggly bits. But if we did that, it's very unlikely we go and look at some other place to find out the temperature and how much ice cream they are selling and we will get a good result. Because the wiggles are far too wiggly. So this is called overfitting.</p>
<p>We are looking for some mathematical function that fits just right to stay with a teddy bear analogies. You might think if you have a statistics background, the way to make things it just right is to have exactly the same number of parameters (i.e. to use a mathematical function that doesn't have too many parameters in it). It turns out that's actually completely not the right way to think about it.</p>
<h3><a id="user-content-regularization-and-validation-set-15607" class="anchor" aria-hidden="true" href="#regularization-and-validation-set-15607"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Regularization and Validation Set [<a href="https://youtu.be/Egp4Zajhzog?t=6967" rel="nofollow">1:56:07</a>]</h3>
<p>There are other ways to make sure that we don't overfit. In general, this is called regularization. Regularization or all the techniques to make sure when we train our model that it's going to work not only well on the data it's seen but on the data it hasn't seen yet. The most important thing to know when you've trained a model is actually how well does it work on data that it hasn't been trained with. As we're going to learn a lot about next week, that's why we have this thing called a validation set.</p>
<p>What happens with the validation set is that we do our mini-batch SGD training loop with one set of data with one set of teddy bears, grizzlies, black bears. Then when we're done, we check the loss function and the accuracy to see how good is it on a bunch of images which were not included in the training. So if we do that, then if we have something which is too wiggly, it will tell us. "Oh, your loss function and your error is really bad because on the bears that it hasn't been trained with, the wiggly bits are in the wrong spot." Or else if it was underfitting, it would also tell us that your validation set is really bad.</p>
<p>Even for people that don't go through this course and don't learn about the details of deep learning, if you've got managers or colleagues at work who are wanting to learn about AI, the only thing that you really need to be teaching them is about the idea of a validation set. Because that's the thing they can then use to figure out if somebody's telling them snake oil or not. They hold back some data and they get told "oh, here's a model that we're going to roll out" and then you say "okay, fine. I'm just going to check it on this held out data to see whether it generalizes." There's a lot of details to get right when you design your validation set. We will talk about them briefly next week, but a more full version would be in Rachel's piece on the fast.ai blog called <a href="https://www.fast.ai/2017/11/13/validation-sets/" rel="nofollow">How (and why) to create a good validation set</a>. And this is also one of the things we go into a lot of detail in the intro to machine learning course. So we're going to try and give you enough to get by for this course, but it is certainly something that's worth deeper study as well.</p>
<p>Thanks everybody! I hope you have a great time building your web applications. See you next week.</p>
</article>
  </div>

    </div>

  

  <details class="details-reset details-overlay details-overlay-dark">
    <summary data-hotkey="l" aria-label="Jump to line"></summary>
    <details-dialog class="Box Box--overlay d-flex flex-column anim-fade-in fast linejump" aria-label="Jump to line">
      <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-jump-to-line-form Box-body d-flex" action="" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
        <input class="form-control flex-auto mr-3 linejump-input js-jump-to-line-field" type="text" placeholder="Jump to line&hellip;" aria-label="Jump to line" autofocus>
        <button type="submit" class="btn" data-close-dialog>Go</button>
</form>    </details-dialog>
  </details>



  </div>
  <div class="modal-backdrop js-touch-events"></div>
</div>

    </main>
  </div>
  

  </div>

        
<div class="footer container-lg width-full p-responsive" role="contentinfo">
  <div class="position-relative d-flex flex-row-reverse flex-lg-row flex-wrap flex-lg-nowrap flex-justify-center flex-lg-justify-between pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light ">
    <ul class="list-style-none d-flex flex-wrap col-12 col-lg-5 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
      <li class="mr-3 mr-lg-0">&copy; 2019 <span title="0.50793s from unicorn-5f485b4495-p8zts">GitHub</span>, Inc.</li>
        <li class="mr-3 mr-lg-0"><a data-ga-click="Footer, go to terms, text:terms" href="https://github.com/site/terms">Terms</a></li>
        <li class="mr-3 mr-lg-0"><a data-ga-click="Footer, go to privacy, text:privacy" href="https://github.com/site/privacy">Privacy</a></li>
        <li class="mr-3 mr-lg-0"><a data-ga-click="Footer, go to security, text:security" href="https://github.com/security">Security</a></li>
        <li class="mr-3 mr-lg-0"><a href="https://githubstatus.com/" data-ga-click="Footer, go to status, text:status">Status</a></li>
        <li><a data-ga-click="Footer, go to help, text:help" href="https://help.github.com">Help</a></li>
    </ul>

    <a aria-label="Homepage" title="GitHub" class="footer-octicon d-none d-lg-block mx-lg-4" href="https://github.com">
      <svg height="24" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="24" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg>
</a>
   <ul class="list-style-none d-flex flex-wrap col-12 col-lg-5 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
        <li class="mr-3 mr-lg-0"><a data-ga-click="Footer, go to contact, text:contact" href="https://github.com/contact">Contact GitHub</a></li>
        <li class="mr-3 mr-lg-0"><a href="https://github.com/pricing" data-ga-click="Footer, go to Pricing, text:Pricing">Pricing</a></li>
      <li class="mr-3 mr-lg-0"><a href="https://developer.github.com" data-ga-click="Footer, go to api, text:api">API</a></li>
      <li class="mr-3 mr-lg-0"><a href="https://training.github.com" data-ga-click="Footer, go to training, text:training">Training</a></li>
        <li class="mr-3 mr-lg-0"><a href="https://github.blog" data-ga-click="Footer, go to blog, text:blog">Blog</a></li>
        <li><a data-ga-click="Footer, go to about, text:about" href="https://github.com/about">About</a></li>

    </ul>
  </div>
  <div class="d-flex flex-justify-center pb-6">
    <span class="f6 text-gray-light"></span>
  </div>
</div>



  <div id="ajax-error-message" class="ajax-error-message flash flash-error">
    <svg class="octicon octicon-alert" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg>
    <button type="button" class="flash-close js-ajax-error-dismiss" aria-label="Dismiss error">
      <svg class="octicon octicon-x" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"/></svg>
    </button>
    You can‚Äôt perform that action at this time.
  </div>


    
    <script crossorigin="anonymous" integrity="sha512-/PxjwfwA7IQQAc/3OBA+EvAAOgs24JUmL+yYRnEl/N7pMvQRi+hBftbGJweH00j3z9d1mUOQpmR0D33CE5Wt7g==" type="application/javascript" src="https://github.githubassets.com/assets/frameworks-f1ce1e70.js"></script>
    
    <script crossorigin="anonymous" async="async" integrity="sha512-41RCZRCF3ndqncgjVi28zesDHQIA/pjp+qtail1asqbRM8BUPv4Vih2Lvlgv0cHACwKlcJJYxJO4+9iNf+rtRQ==" type="application/javascript" src="https://github.githubassets.com/assets/github-bootstrap-98914a0f.js"></script>
    
    
    
  <div class="js-stale-session-flash stale-session-flash flash flash-warn flash-banner" hidden
    >
    <svg class="octicon octicon-alert" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg>
    <span class="signed-in-tab-flash">You signed in with another tab or window. <a href="">Reload</a> to refresh your session.</span>
    <span class="signed-out-tab-flash">You signed out in another tab or window. <a href="">Reload</a> to refresh your session.</span>
  </div>
  <template id="site-details-dialog">
  <details class="details-reset details-overlay details-overlay-dark lh-default text-gray-dark hx_rsm" open>
    <summary role="button" aria-label="Close dialog"></summary>
    <details-dialog class="Box Box--overlay d-flex flex-column anim-fade-in fast hx_rsm-dialog hx_rsm-modal">
      <button class="Box-btn-octicon m-0 btn-octicon position-absolute right-0 top-0" type="button" aria-label="Close dialog" data-close-dialog>
        <svg class="octicon octicon-x" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"/></svg>
      </button>
      <div class="octocat-spinner my-6 js-details-dialog-spinner"></div>
    </details-dialog>
  </details>
</template>

  <div class="Popover js-hovercard-content position-absolute" style="display: none; outline: none;" tabindex="0">
  <div class="Popover-message Popover-message--bottom-left Popover-message--large Box box-shadow-large" style="width:360px;">
  </div>
</div>

  <div aria-live="polite" class="js-global-screen-reader-notice sr-only"></div>

  </body>
</html>

